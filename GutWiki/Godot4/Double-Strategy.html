<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link id="maincss" rel="stylesheet" href="github-markdown.css">
    <link rel="stylesheet" href="exported_wiki.css">
</head>


<body>

<!------------------------------------------------------------------------->
<!-- THE TOC STARTS HERE                                                 -->
<!------------------------------------------------------------------------->

    <div id="toc" class="w3-sidebar w3-border-right">
        <div class="markdown-body">
            <embed>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Gut Wiki</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <link rel="stylesheet" href="github-markdown.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header id="title-block-header">
<h1 class="title">Gut Wiki</h1>
</header>
<h3 id="900-godot-4x">9.0.0 (Godot 4.x)</h3>
<h3 id="start-here">Start Here</h3>
<ul>
<li><a href="New-For-Godot-4.html">New-For-Godot-4</a></li>
<li><a href="Home.html">Home</a></li>
<li><a href="Quick-Start.html">Quick-Start</a></li>
</ul>
<h3 id="all-pages">All Pages</h3>
<ul>
<li><a href="Asserts-and-Methods.html">Asserts-and-Methods</a></li>
<li><a href="Command-Line.html">Command-Line</a></li>
<li><a href="Comparing-Things.html">Comparing-Things</a></li>
<li><a href="Contributing.html">Contributing</a></li>
<li><a href="Creating-Tests.html">Creating-Tests</a></li>
<li><a href="Double-Strategy.html">Double-Strategy</a></li>
<li><a href="Doubles.html">Doubles</a></li>
<li><a href="Export-Test-Results.html">Export-Test-Results</a></li>
<li><a href="Home.html">Home</a></li>
<li><a href="Hooks.html">Hooks</a></li>
<li><a href="Inner-Test-Classes.html">Inner-Test-Classes</a></li>
<li><a href="Input-Factory.html">Input-Factory</a></li>
<li><a href="Install.html">Install</a></li>
<li><a href="Memory-Management.html">Memory-Management</a></li>
<li><a href="Mock-Input.html">Mock-Input</a></li>
<li><a href="New-For-Godot-4.html">New-For-Godot-4</a></li>
<li><a href="Orphans.html">Orphans</a></li>
<li><a href="Parameterized-Tests.html">Parameterized-Tests</a></li>
<li><a href="Partial-Doubles.html">Partial-Doubles</a></li>
<li><a href="Quick-Start.html">Quick-Start</a></li>
<li><a href="Running-On-Devices.html">Running-On-Devices</a></li>
<li><a href="Simulate.html">Simulate</a></li>
<li><a href="Spies.html">Spies</a></li>
<li><a href="Stubbing.html">Stubbing</a></li>
<li><a href="Tutorials.html">Tutorials</a></li>
<li><a href="Yielding.html">Yielding</a></li>
</ul>
</body>
</html>

            </embed>
        </div>
    </div>


<!------------------------------------------------------------------------->
<!-- THE PAGE STARTS HERE                                                -->
<!------------------------------------------------------------------------->
    <div class="wiki-div">
        <div class="markdown-body">
            <embed>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Double-Strategy</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <link rel="stylesheet" href="github-markdown.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header id="title-block-header">
<h1 class="title">Double-Strategy</h1>
</header>
<h1
id="this-page-has-not-been-updated-for-gut-900-or-godot-4-there-could-be-incorrect-information-here"><div class="warning">This
page has not been updated for GUT 9.0.0 or Godot 4. There could be
incorrect information here.</div></h1>
<p>Remember all that stuff I said earlier about not being able to double
Godot Built-Ins? Forget about it...or forget half of it, maybe 45% of
it.</p>
<p>You can <a href="Spies.html">spy on</a> and stub most of the
Built-Ins in Godot if you enable the <code>FULL</code> Doubling
Strategy. I've enabled this feature in my own game and it didn't crash
(I currently have 75 test scripts and 3633 asserts). As reassuring as
that was I'm still not sure that it won't blow up for someone so it is
off by default.</p>
<p>The following methods cannot be spied on due to implementation
details with either Gut or GDScript. There might be more.</p>
<pre><code>has_method      _draw
get_script      _physics_process
get             _input
_notification   _unhandled_input
get_path        _unhandled_key_input
_enter_tree     _get
_exit_tree      emit_signal
_process        _set</code></pre>
<h2 id="remember">Remember</h2>
<p>If you've defined one of these methods in your class then you can
double/spy on them just as you normally would.</p>
<h1 id="setting-the-doubling-strategy">Setting the Doubling
Strategy</h1>
<p>You can set the default strategy from the command line, .gutconfig,
or by calling <code>set_double_strategy</code> on your Gut instance.</p>
<p>You can also override the default strategy at the Test Script level
or for a specific call to <code>double</code>. When set at the script
level, it will reset at the end of the script or Inner Test Class. When
passed to <code>double</code> it will only take effect for that one
double.</p>
<h3 id="gutconfig">.gutconfig</h3>
<p>Valid values are <code>partial</code>(default) or
<code>full</code></p>
<pre><code>&quot;double_strategy&quot;:&quot;full&quot;</code></pre>
<h3 id="command-line">Command Line</h3>
<p>Use the <code>-gdouble_strategy</code> option with the values
<code>partial</code> or <code>full</code></p>
<pre><code>-gdouble_strategy=full</code></pre>
<h3 id="script-level">Script Level</h3>
<pre><code>set_double_strategy(DOUBLE_STRATEGY.FULL)
set_double_strategy(DOUBLE_STRATEGY.PARTIAL)</code></pre>
<h3 id="when-calling-double">When Calling <code>double</code></h3>
<p>Just add another parameter to your call to <code>double</code> using
the <code>DOUBLE_STRATEGY</code> enum.</p>
<pre><code>double(&#39;res://thing.gd&#39;, DOUBLE_STRATEGY.PARTIAL)
double(&#39;res://inners.gd&#39;, &#39;InnerA&#39;, DOUBLE_STRATEGY.FULL)
double(&#39;res://my_scene.tscn&#39;, DOUBLE_STRATEGY.PARTIAL)</code></pre>
</body>
</html>

            </embed>
        </div>
    </div>

</body>

</html>