<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link id="maincss" rel="stylesheet" href="github-markdown.css">
    <link rel="stylesheet" href="exported_wiki.css">
</head>


<body>

<!------------------------------------------------------------------------->
<!-- THE TOC STARTS HERE                                                 -->
<!------------------------------------------------------------------------->

    <div id="toc" class="w3-sidebar w3-border-right">
        <div class="markdown-body">
            <embed>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Gut Wiki</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <link rel="stylesheet" href="github-markdown.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header id="title-block-header">
<h1 class="title">Gut Wiki</h1>
</header>
<h3 id="910-godot-41">9.1.0 (Godot 4.1)</h3>
<h3 id="start-here">Start Here</h3>
<ul>
<li><a href="New-For-Godot-4.html">New-For-Godot-4</a></li>
<li><a href="Home.html">Home</a></li>
<li><a href="Quick-Start.html">Quick-Start</a></li>
</ul>
<h3 id="all-pages">All Pages</h3>
<ul>
<li><a href="Asserts-and-Methods.html">Asserts-and-Methods</a></li>
<li><a href="Awaiting.html">Awaiting</a></li>
<li><a href="Command-Line.html">Command-Line</a></li>
<li><a href="Comparing-Things.html">Comparing-Things</a></li>
<li><a href="Contributing.html">Contributing</a></li>
<li><a href="Creating-Tests.html">Creating-Tests</a></li>
<li><a href="Double-Strategy.html">Double-Strategy</a></li>
<li><a href="Doubles.html">Doubles</a></li>
<li><a href="Export-Test-Results.html">Export-Test-Results</a></li>
<li><a href="Home.html">Home</a></li>
<li><a href="Hooks.html">Hooks</a></li>
<li><a href="Inner-Test-Classes.html">Inner-Test-Classes</a></li>
<li><a href="Input-Factory.html">Input-Factory</a></li>
<li><a href="Install.html">Install</a></li>
<li><a href="Memory-Management.html">Memory-Management</a></li>
<li><a href="Mock-Input.html">Mock-Input</a></li>
<li><a href="New-For-Godot-4.html">New-For-Godot-4</a></li>
<li><a href="Orphans.html">Orphans</a></li>
<li><a href="Parameterized-Tests.html">Parameterized-Tests</a></li>
<li><a href="Partial-Doubles.html">Partial-Doubles</a></li>
<li><a href="Quick-Start.html">Quick-Start</a></li>
<li><a href="Running-On-Devices.html">Running-On-Devices</a></li>
<li><a href="Simulate.html">Simulate</a></li>
<li><a href="Spies.html">Spies</a></li>
<li><a href="Stubbing.html">Stubbing</a></li>
<li><a href="Tutorials.html">Tutorials</a></li>
<li><a href="Yielding.html">Yielding</a></li>
</ul>
</body>
</html>

            </embed>
        </div>
    </div>


<!------------------------------------------------------------------------->
<!-- THE PAGE STARTS HERE                                                -->
<!------------------------------------------------------------------------->
    <div class="wiki-div">
        <div class="markdown-body">
            <embed>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Asserts-and-Methods</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="github-markdown.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header id="title-block-header">
<h1 class="title">Asserts-and-Methods</h1>
</header>
<div class="warning">This page has not been <b>completely</b> updated for GUT 9.0.0 or Godot 4.  There could be incorrect information here.</div>
These are all the methods, bells, whistles and blinky lights you get when you extend the Gut Test Class (`extends GutTest`).

<p>All sample code listed for the methods can be found here in <a
href="https://github.com/bitwes/Gut/blob/master/test/samples/test_readme_examples.gd">test_readme_examples.gd</a></p>
<h1 id="utilities">Utilities</h1>
<p>| <a href="#add_child_autofree">add_child_autofree</a>| <a
href="#add_child_autoqfree">add_child_autoqfree</a>| <a
href="#autofree">autofree</a>| <a href="#autoqfree">autoqfree</a>| <a
href="#compare_deep">compare_deep</a> | <a
href="#compare_shallow">compare_shallow</a> | <a
href="#double">double</a> | <a href="#get_call_count">get_call_count</a>
| <a href="#get_call_parameters">get_call_parameters</a> | <a
href="#get_non_matching_array_indexes">get_non_matching_array_indexes</a>
| <a href="#get_signal_emit_count">get_signal_emit_count</a> | <a
href="#get_signal_parameters">get_signal_parameters</a> | <a
href="#ignore_method_when_doubling">ignore_method_when_doubling</a> | <a
href="#is_failing">is_failing</a> | <a href="#is_passing">is_passing</a>
| <a href="#pause_before_teardown">pause_before_teardown</a> | <a
href="#pending">pending</a> | <a href="#replace_node">replace_node</a> |
<a href="#simulate">simulate</a> | <a href="#stub">stub</a> | <a
href="#wait_for_signal">wait_for_signal</a> | <a
href="#wait_frames">wait_frames</a> | <a
href="#wait_seconds">wait_seconds</a> | <a
href="#watch_signals">watch_signals</a> |</p>
<h1 id="gut-utilities">Gut Utilities</h1>
<p>These methods exist on the GUT instance, and not in
<code>test.gd</code>. They must all be prefixed with
<code>gut</code>.</p>
<p>| <a href="">gut.directory_delete_files</a>| <a
href="">gut.file_delete</a>| <a href="">gut.file_touch</a>| <a
href="">gut.is_file_empty</a>| <a href="#gut_p">gut.p</a> |</p>
<h1 id="assertions">Assertions</h1>
<!-- Almost alphabetical list, "not" asserts are listed after their counterparts -->

<!-- 1 assert per line unless there is a "not" version for easy sorting -->

<p>| <a href="#assert_accessors">assert_accessors</a> | <a
href="#assert_almost_eq">assert_almost_eq</a> | <a
href="#assert_almost_ne">assert_almost_ne</a> | <a
href="#assert_between">assert_between</a> | <a
href="#assert_not_between">assert_not_between</a> | <a
href="#assert_call_count">assert_call_count</a> | <a
href="#assert_called">assert_called</a> | <a
href="#assert_not_called">assert_not_called</a> | <a
href="#assert_connected">assert_connected</a> | <a
href="#assert_eq">assert_eq (equal)</a> | <a href="#assert_ne">assert_ne
(not equal)</a> | <a href="#assert_eq_deep">assert_eq_deep</a> | <a
href="#assert_ne_deep">assert_ne_deep</a> | <a
href="#assert_eq_shallow">assert_eq_shallow</a> | <a
href="#assert_ne_shallow">assert_ne_shallow</a> | <a
href="#assert_exports">assert_exports</a> | <a
href="#assert_false">assert_false</a> | <a
href="#assert_file_does_not_exist">assert_file_does_not_exist</a> | <a
href="#assert_file_empty">assert_file_empty</a> | <a
href="#assert_file_exists">assert_file_exists</a> | <a
href="#assert_file_not_empty">assert_file_not_empty</a> | <a
href="#assert_freed">assert_freed</a> | <a
href="#assert_not_freed">assert_not_freed</a> | <a
href="#assert_gt">assert_gt (greater than)</a> | <a
href="#assert_has_method">assert_has_method</a> | <a
href="#assert_has_signal">assert_has_signal</a> | <a
href="#assert_has">assert_has</a> | <a
href="#assert_does_not_have">assert_does_not_have</a> | <a
href="#assert_is">assert_is</a> | <a href="#assert_lt">assert_lt (less
than)</a> | <a href="#assert_no_new_orphans">assert_no_new_orpahns</a>|
<a href="#assert_not_connected">assert_not_connected</a> | <a
href="#assert_null">assert_null</a> | <a
href="#assert_not_null">assert_not_null</a> | <a
href="#assert_property">assert_property</a> | <a
href="#assert_setget_called">assert_setget_called</a> | <a
href="#assert_setget">assert_setget</a> | <a
href="#assert_signal_emit_count">assert_signal_emit_count</a> | <a
href="#assert_signal_emitted_with_parameters">assert_signal_emitted_with_parameters</a>
| <a href="#assert_signal_emitted">assert_signal_emitted</a> | <a
href="#assert_signal_not_emitted">assert_signal_not_emitted</a> | <a
href="#assert_string_contains">assert_string_contains</a> | <a
href="#assert_string_ends_with">assert_string_ends_with</a> | <a
href="#assert_string_starts_with">assert_string_starts_with</a> | <a
href="#assert_true">assert_true</a> | <a
href="#assert_typeof">assert_typeof</a> | <a
href="#assert_not_typeof">assert_not_typeof</a>| <a
href="#fail_test">fail_test</a> | <a href="#pass_test">pass_test</a>
|</p>
<h4 id="pass_testtext-"><a name="pass_test">pass_test(text) </a></h4>
<p>Useful when you don't have anything meaningful to assert. Any failing
asserts within the test will override this.</p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode gdscript"><code class="sourceCode gdscript"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="fu">test_nothing</span>():</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pass_test</span>(<span class="st">&#39;nothing tested, passing&#39;</span>)</span></code></pre></div>
<h4 id="fail_testtext-"><a name="fail_test">fail_test(text) </a></h4>
<p>Useful when you need to fail a test but don't have a meaningful way
to assert the condition you are testing.</p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode gdscript"><code class="sourceCode gdscript"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="fu">test_this_test_just_fails</span>():</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fail_test</span>(<span class="st">&#39;total unbridled failure&#39;</span>)</span></code></pre></div>
<h4 id="-pendingtext-"><a name="pending"> pending(text="") </a></h4>
<p>flag a test as pending, the optional message is printed in the
GUI</p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode gdscript"><code class="sourceCode gdscript"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pending</span>(<span class="st">&#39;This test is not implemented yet&#39;</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">pending</span>()</span></code></pre></div>
<h4 id="-assert_eqgot-expected-text-"><a name="assert_eq">
assert_eq(got, expected, text="") </a></h4>
<p>assert got == expected and prints optional text. There are some
caveats due to how Godot compares things. Arrays are compared by value
(with some additional caveats) and dictionaries are compared by
reference. See also <a href="#assert_eq_deep">assert_eq_deep</a> and <a
href="Comparing-Things.html">Comparing Things</a></p>
<div class="sourceCode" id="cb4"><pre
class="sourceCode gdscript"><code class="sourceCode gdscript"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="fu">test_equals</span>():</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">var</span> one <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">var</span> node1 <span class="op">=</span> Node.<span class="fu">new</span>()</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">var</span> node2 <span class="op">=</span> node1</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_eq</span>(one, <span class="dv">1</span>, <span class="st">&#39;one should equal one&#39;</span>) <span class="co"># PASS</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_eq</span>(<span class="st">&#39;racecar&#39;</span>, <span class="st">&#39;racecar&#39;</span>) <span class="co"># PASS</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_eq</span>(node2, node1) <span class="co"># PASS</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_eq</span>([<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>], [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]) <span class="co"># PASS</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>    <span class="kw">var</span> d1_pass <span class="op">=</span> {<span class="st">&#39;a&#39;</span>:<span class="dv">1</span>}</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>    <span class="kw">var</span> d2_pass <span class="op">=</span> d1_pass</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_eq</span>(d1_pass, d2_pass) <span class="co"># PASS</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>    gut.p(<span class="st">&#39;-- failing --&#39;</span>)</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_eq</span>(<span class="dv">1</span>, <span class="dv">2</span>) <span class="co"># FAIL</span></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_eq</span>(<span class="st">&#39;hello&#39;</span>, <span class="st">&#39;world&#39;</span>) <span class="co"># FAIL</span></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_eq</span>(<span class="va">self</span>, node1) <span class="co"># FAIL</span></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_eq</span>([<span class="dv">1</span>, <span class="st">&#39;two&#39;</span>, <span class="dv">3</span>], [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>]) <span class="co"># FAIL</span></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_eq</span>({<span class="st">&#39;a&#39;</span>:<span class="dv">1</span>}, {<span class="st">&#39;a&#39;</span>:<span class="dv">1</span>}) <span class="co"># FAIL</span></span></code></pre></div>
<h4 id="-assert_negot-not_expected-text-"><a name="assert_ne">
assert_ne(got, not_expected, text="") </a></h4>
<p>asserts got != expected and prints optional text. Read <a
href="Comparing-Things.html">Comparing Things</a> for array and
dictionary caveats.</p>
<div class="sourceCode" id="cb5"><pre
class="sourceCode gdscript"><code class="sourceCode gdscript"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="kw">var</span> two <span class="op">=</span> <span class="dv">2</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="kw">var</span> node1 <span class="op">=</span> Node.<span class="fu">new</span>()</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>gut.p(<span class="st">&#39;-- passing --&#39;</span>)</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_ne</span>(two, <span class="dv">1</span>, <span class="st">&#39;Two should not equal one.&#39;</span>)  <span class="co"># PASS</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_ne</span>(<span class="st">&#39;hello&#39;</span>, <span class="st">&#39;world&#39;</span>) <span class="co"># PASS</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_ne</span>(<span class="va">self</span>, node1) <span class="co"># PASS</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>gut.p(<span class="st">&#39;-- failing --&#39;</span>)</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_ne</span>(two, <span class="dv">2</span>) <span class="co"># FAIL</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_ne</span>(<span class="st">&#39;one&#39;</span>, <span class="st">&#39;one&#39;</span>) <span class="co"># FAIL</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_ne</span>(<span class="st">&#39;2&#39;</span>, <span class="dv">2</span>) <span class="co"># FAIL</span></span></code></pre></div>
<h4 id="-assert_gtgot-expected-text-"><a name="assert_gt">
assert_gt(got, expected, text="") </a></h4>
<p>assserts got &gt; expected</p>
<div class="sourceCode" id="cb6"><pre
class="sourceCode gdscript"><code class="sourceCode gdscript"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="kw">var</span> bigger <span class="op">=</span> <span class="dv">5</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="kw">var</span> smaller <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>gut.p(<span class="st">&#39;-- passing --&#39;</span>)</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_gt</span>(bigger, smaller, <span class="st">&#39;Bigger should be greater than smaller&#39;</span>) <span class="co"># PASS</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_gt</span>(<span class="st">&#39;b&#39;</span>, <span class="st">&#39;a&#39;</span>) <span class="co"># PASS</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_gt</span>(<span class="st">&#39;a&#39;</span>, <span class="st">&#39;A&#39;</span>) <span class="co"># PASS</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_gt</span>(<span class="fl">1.1</span>, <span class="dv">1</span>) <span class="co"># PASS</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>gut.p(<span class="st">&#39;-- failing --&#39;</span>)</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_gt</span>(<span class="st">&#39;a&#39;</span>, <span class="st">&#39;a&#39;</span>) <span class="co"># FAIL</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_gt</span>(<span class="fl">1.0</span>, <span class="dv">1</span>) <span class="co"># FAIL</span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_gt</span>(smaller, bigger) <span class="co"># FAIL</span></span></code></pre></div>
<h4 id="-assert_ltgot-expected-text-"><a name="assert_lt">
assert_lt(got, expected, text="") </a></h4>
<p>asserts got &lt; expected</p>
<div class="sourceCode" id="cb7"><pre
class="sourceCode gdscript"><code class="sourceCode gdscript"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="kw">var</span> bigger <span class="op">=</span> <span class="dv">5</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="kw">var</span> smaller <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>gut.p(<span class="st">&#39;-- passing --&#39;</span>)</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_lt</span>(smaller, bigger, <span class="st">&#39;Smaller should be less than bigger&#39;</span>) <span class="co"># PASS</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_lt</span>(<span class="st">&#39;a&#39;</span>, <span class="st">&#39;b&#39;</span>) <span class="co"># PASS</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>gut.p(<span class="st">&#39;-- failing --&#39;</span>)</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_lt</span>(<span class="st">&#39;z&#39;</span>, <span class="st">&#39;x&#39;</span>) <span class="co"># FAIL</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_lt</span>(<span class="op">-</span><span class="dv">5</span>, <span class="op">-</span><span class="dv">5</span>) <span class="co"># FAIL</span></span></code></pre></div>
<h4 id="-assert_truegot-text-"><a name="assert_true"> assert_true(got,
text="") </a></h4>
<p>asserts got == true.</p>
<div class="sourceCode" id="cb8"><pre
class="sourceCode gdscript"><code class="sourceCode gdscript"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="fu">test_true</span>():</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>    gut.p(<span class="st">&#39;-- passing --&#39;</span>)</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_true</span>(<span class="va">true</span>, <span class="st">&#39;True should be true&#39;</span>) <span class="co"># PASS</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_true</span>(<span class="dv">5</span> <span class="op">==</span> <span class="dv">5</span>, <span class="st">&#39;That expressions should be true&#39;</span>) <span class="co"># PASS</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>    gut.p(<span class="st">&#39;-- failing --&#39;</span>)</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_true</span>(<span class="va">false</span>) <span class="co"># FAIL</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_true</span>(<span class="st">&#39;a&#39;</span> <span class="op">==</span> <span class="st">&#39;b&#39;</span>) <span class="co"># FAIL</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_true</span>(<span class="st">&#39;b&#39;</span>) <span class="co"># FAIL</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_true</span>(<span class="dv">1</span>)</span></code></pre></div>
<h4 id="-assert_falsegot-text-"><a name="assert_false">
assert_false(got, text="") </a></h4>
<p>asserts got == false</p>
<div class="sourceCode" id="cb9"><pre
class="sourceCode gdscript"><code class="sourceCode gdscript"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="fu">test_false</span>():</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>    gut.p(<span class="st">&#39;-- passing --&#39;</span>)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_false</span>(<span class="va">false</span>, <span class="st">&#39;False is false&#39;</span>) <span class="co"># PASS</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_false</span>(<span class="dv">1</span> <span class="op">==</span> <span class="dv">2</span>) <span class="co"># PASS</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_false</span>(<span class="st">&#39;a&#39;</span> <span class="op">==</span> <span class="st">&#39;z&#39;</span>) <span class="co"># PASS</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_false</span>(<span class="va">self</span>.<span class="fu">has_user_signal</span>(<span class="st">&#39;nope&#39;</span>)) <span class="co"># PASS</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>    gut.p(<span class="st">&#39;-- failing --&#39;</span>)</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_false</span>(<span class="va">true</span>) <span class="co"># FAIL</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_false</span>(<span class="st">&#39;ABC&#39;</span> <span class="op">==</span> <span class="st">&#39;ABC&#39;</span>) <span class="co"># FAIL</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_false</span>(<span class="va">null</span>) <span class="co"># FAIL</span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_false</span>(<span class="dv">0</span>)</span></code></pre></div>
<h4 id="-assert_nullgot-"><a name="assert_null"> assert_null(got)
</a></h4>
<p>asserts the passed in value is null</p>
<div class="sourceCode" id="cb10"><pre
class="sourceCode gdscript"><code class="sourceCode gdscript"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>gut.p(<span class="st">&#39;-- passing --&#39;</span>)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_null</span>(<span class="va">null</span>)</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>gut.p(<span class="st">&#39;-- failing --&#39;</span>)</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_null</span>(<span class="st">&#39;a&#39;</span>)</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_null</span>(<span class="dv">1</span>)</span></code></pre></div>
<h4 id="-assert_not_nullgot-"><a name="assert_not_null">
assert_not_null(got) </a></h4>
<p>asserts the passed in value is not null</p>
<div class="sourceCode" id="cb11"><pre
class="sourceCode gdscript"><code class="sourceCode gdscript"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>gut.p(<span class="st">&#39;-- passing --&#39;</span>)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_not_null</span>(<span class="st">&#39;a&#39;</span>)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_not_null</span>(<span class="dv">1</span>)</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>gut.p(<span class="st">&#39;-- failing --&#39;</span>)</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_not_null</span>(<span class="va">null</span>)</span></code></pre></div>
<h4
id="-assert_betweengot-expect_low-expect_high-text-"><a name="assert_between">
assert_between(got, expect_low, expect_high, text="") </a></h4>
<p>asserts got &gt; expect_low and &lt;= expect_high</p>
<div class="sourceCode" id="cb12"><pre
class="sourceCode gdscript"><code class="sourceCode gdscript"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>gut.p(<span class="st">&#39;-- passing --&#39;</span>)</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_between</span>(<span class="dv">5</span>, <span class="dv">0</span>, <span class="dv">10</span>, <span class="st">&#39;Five should be between 0 and 10&#39;</span>) <span class="co"># PASS</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_between</span>(<span class="dv">10</span>, <span class="dv">0</span>, <span class="dv">10</span>) <span class="co"># PASS</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_between</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">10</span>) <span class="co"># PASS</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_between</span>(<span class="fl">2.25</span>, <span class="dv">2</span>, <span class="fl">4.0</span>) <span class="co"># PASS</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>gut.p(<span class="st">&#39;-- failing --&#39;</span>)</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_between</span>(<span class="st">&#39;a&#39;</span>, <span class="st">&#39;b&#39;</span>, <span class="st">&#39;c&#39;</span>) <span class="co"># FAIL</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_between</span>(<span class="dv">1</span>, <span class="dv">5</span>, <span class="dv">10</span>) <span class="co"># FAIL</span></span></code></pre></div>
<h4
id="-assert_not_betweengot-expect_low-expect_high-text-"><a name="assert_not_between">
assert_not_between(got, expect_low, expect_high, text="") </a></h4>
<p>asserts that got &lt;= expect_low or got &gt;= expect_high.</p>
<div class="sourceCode" id="cb13"><pre
class="sourceCode gdscript"><code class="sourceCode gdscript"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>gut.p(<span class="st">&#39;-- passing --&#39;</span>)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_not_between</span>(<span class="dv">1</span>, <span class="dv">5</span>, <span class="dv">10</span>) <span class="co"># PASS</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_not_between</span>(<span class="st">&#39;a&#39;</span>, <span class="st">&#39;b&#39;</span>, <span class="st">&#39;d&#39;</span>) <span class="co"># PASS</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_not_between</span>(<span class="st">&#39;d&#39;</span>, <span class="st">&#39;b&#39;</span>, <span class="st">&#39;d&#39;</span>) <span class="co"># PASS</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_not_between</span>(<span class="dv">10</span>, <span class="dv">0</span>, <span class="dv">10</span>) <span class="co"># PASS</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_not_between</span>(<span class="op">-</span><span class="dv">2</span>, <span class="op">-</span><span class="dv">2</span>, <span class="dv">10</span>) <span class="co"># PASS</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>gut.p(<span class="st">&#39;-- failing --&#39;</span>)</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_not_between</span>(<span class="dv">5</span>, <span class="dv">0</span>, <span class="dv">10</span>, <span class="st">&#39;Five shouldnt be between 0 and 10&#39;</span>) <span class="co"># FAIL</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_not_between</span>(<span class="fl">0.25</span>, <span class="op">-</span><span class="fl">2.0</span>, <span class="fl">4.0</span>) <span class="co"># FAIL</span></span></code></pre></div>
<h4
id="-assert_almost_eqgot-expected-error_interval-text-"><a name="assert_almost_eq">
assert_almost_eq(got, expected, error_interval, text='') </a></h4>
<p>Asserts that <code>got</code> is within the range of
<code>expected</code> +/- <code>error_interval</code>. The upper and
lower bounds are included in the check. Verified to work with integers,
floats, and Vector2. Should work with anything that can be
added/subtracted.</p>
<div class="sourceCode" id="cb14"><pre
class="sourceCode gdscript"><code class="sourceCode gdscript"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>gut.p(<span class="st">&#39;-- passing --&#39;</span>)</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_almost_eq</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="st">&#39;0 within range of 1 +/- 1&#39;</span>) <span class="co"># PASS</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_almost_eq</span>(<span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="st">&#39;2 within range of 1 +/- 1&#39;</span>) <span class="co"># PASS</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_almost_eq</span>(<span class="fl">1.2</span>, <span class="fl">1.0</span>, <span class="fl">.5</span>, <span class="st">&#39;1.2 within range of 1 +/- .5&#39;</span>) <span class="co"># PASS</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_almost_eq</span>(<span class="fl">.5</span>, <span class="fl">1.0</span>, <span class="fl">.5</span>, <span class="st">&#39;.5 within range of 1 +/- .5&#39;</span>) <span class="co"># PASS</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_almost_eq</span>(<span class="fu">Vector2</span>(<span class="fl">.5</span>, <span class="fl">1.5</span>), <span class="fu">Vector2</span>(<span class="fl">1.0</span>, <span class="fl">1.0</span>), <span class="fu">Vector2</span>(<span class="fl">.5</span>, <span class="fl">.5</span>))  <span class="co"># PASS</span></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>gut.p(<span class="st">&#39;-- failing --&#39;</span>)</span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_almost_eq</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">1</span>, <span class="st">&#39;1 outside range of 3 +/- 1&#39;</span>) <span class="co"># FAIL</span></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_almost_eq</span>(<span class="fl">2.6</span>, <span class="fl">3.0</span>, <span class="fl">.2</span>, <span class="st">&#39;2.6 outside range of 3 +/- .2&#39;</span>) <span class="co"># FAIL</span></span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_almost_eq</span>(<span class="fu">Vector2</span>(<span class="fl">.5</span>, <span class="fl">1.5</span>), <span class="fu">Vector2</span>(<span class="fl">1.0</span>, <span class="fl">1.0</span>), <span class="fu">Vector2</span>(<span class="fl">.25</span>, <span class="fl">.25</span>))  <span class="co"># PASS</span></span></code></pre></div>
<h4
id="-assert_almost_negot-expected-error_interval-text-"><a name="assert_almost_ne">
assert_almost_ne(got, expected, error_interval, text='') </a></h4>
<p>This is the inverse of <code>assert_almost_eq</code>. This will pass
if <code>got</code> is outside the range of <code>expected</code> +/-
<code>error_interval</code>.</p>
<div class="sourceCode" id="cb15"><pre
class="sourceCode gdscript"><code class="sourceCode gdscript"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>gut.p(<span class="st">&#39;-- passing --&#39;</span>)</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_almost_ne</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">1</span>, <span class="st">&#39;1 outside range of 3 +/- 1&#39;</span>) <span class="co"># PASS</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_almost_ne</span>(<span class="fl">2.6</span>, <span class="fl">3.0</span>, <span class="fl">.2</span>, <span class="st">&#39;2.6 outside range of 3 +/- .2&#39;</span>) <span class="co"># PASS</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_almost_ne</span>(<span class="fu">Vector2</span>(<span class="fl">.5</span>, <span class="fl">1.5</span>), <span class="fu">Vector2</span>(<span class="fl">1.0</span>, <span class="fl">1.0</span>), <span class="fu">Vector2</span>(<span class="fl">.25</span>, <span class="fl">.25</span>))  <span class="co"># PASS</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>gut.p(<span class="st">&#39;-- failing --&#39;</span>)</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_almost_ne</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="st">&#39;0 within range of 1 +/- 1&#39;</span>) <span class="co"># FAIL</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_almost_ne</span>(<span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="st">&#39;2 within range of 1 +/- 1&#39;</span>) <span class="co"># FAIL</span></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_almost_ne</span>(<span class="fl">1.2</span>, <span class="fl">1.0</span>, <span class="fl">.5</span>, <span class="st">&#39;1.2 within range of 1 +/- .5&#39;</span>) <span class="co"># FAIL</span></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_almost_ne</span>(<span class="fl">.5</span>, <span class="fl">1.0</span>, <span class="fl">.5</span>, <span class="st">&#39;.5 within range of 1 +/- .5&#39;</span>) <span class="co"># FAIL</span></span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_almost_ne</span>(<span class="fu">Vector2</span>(<span class="fl">.5</span>, <span class="fl">1.5</span>), <span class="fu">Vector2</span>(<span class="fl">1.0</span>, <span class="fl">1.0</span>), <span class="fu">Vector2</span>(<span class="fl">.5</span>, <span class="fl">.5</span>))  <span class="co"># FAIL</span></span></code></pre></div>
<h4 id="-assert_hasobj-element-text-"><a name="assert_has">
assert_has(obj, element, text='') </a></h4>
<p>Asserts that the object passed in "has" the element. This works with
any object that has a <code>has</code> method.</p>
<div class="sourceCode" id="cb16"><pre
class="sourceCode gdscript"><code class="sourceCode gdscript"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="kw">var</span> an_array <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="st">&#39;four&#39;</span>, <span class="st">&#39;five&#39;</span>]</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="kw">var</span> a_hash <span class="op">=</span> { <span class="st">&#39;one&#39;</span>:<span class="dv">1</span>, <span class="st">&#39;two&#39;</span>:<span class="dv">2</span>, <span class="st">&#39;3&#39;</span>:<span class="st">&#39;three&#39;</span>}</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>gut.p(<span class="st">&#39;-- passing --&#39;</span>)</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_has</span>(an_array, <span class="st">&#39;four&#39;</span>) <span class="co"># PASS</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_has</span>(an_array, <span class="dv">2</span>) <span class="co"># PASS</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a><span class="co"># the hash&#39;s has method checks indexes not values</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_has</span>(a_hash, <span class="st">&#39;one&#39;</span>) <span class="co"># PASS</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_has</span>(a_hash, <span class="st">&#39;3&#39;</span>) <span class="co"># PASS</span></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>gut.p(<span class="st">&#39;-- failing --&#39;</span>)</span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_has</span>(an_array, <span class="dv">5</span>) <span class="co"># FAIL</span></span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_has</span>(an_array, <span class="va">self</span>) <span class="co"># FAIL</span></span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_has</span>(a_hash, <span class="dv">3</span>) <span class="co"># FAIL</span></span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_has</span>(a_hash, <span class="st">&#39;three&#39;</span>) <span class="co"># FAIL</span></span></code></pre></div>
<h4
id="-assert_does_not_haveobj-element-text-"><a name="assert_does_not_have">
assert_does_not_have(obj, element, text='') </a></h4>
<p>The inverse of <code>assert_has</code></p>
<div class="sourceCode" id="cb17"><pre
class="sourceCode gdscript"><code class="sourceCode gdscript"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="kw">var</span> an_array <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="st">&#39;four&#39;</span>, <span class="st">&#39;five&#39;</span>]</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="kw">var</span> a_hash <span class="op">=</span> { <span class="st">&#39;one&#39;</span>:<span class="dv">1</span>, <span class="st">&#39;two&#39;</span>:<span class="dv">2</span>, <span class="st">&#39;3&#39;</span>:<span class="st">&#39;three&#39;</span>}</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>gut.p(<span class="st">&#39;-- passing --&#39;</span>)</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_does_not_have</span>(an_array, <span class="dv">5</span>) <span class="co"># PASS</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_does_not_have</span>(an_array, <span class="va">self</span>) <span class="co"># PASS</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_does_not_have</span>(a_hash, <span class="dv">3</span>) <span class="co"># PASS</span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_does_not_have</span>(a_hash, <span class="st">&#39;three&#39;</span>) <span class="co"># PASS</span></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>gut.p(<span class="st">&#39;-- failing --&#39;</span>)</span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_does_not_have</span>(an_array, <span class="st">&#39;four&#39;</span>) <span class="co"># FAIL</span></span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_does_not_have</span>(an_array, <span class="dv">2</span>) <span class="co"># FAIL</span></span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a><span class="co"># the hash&#39;s has method checks indexes not values</span></span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_does_not_have</span>(a_hash, <span class="st">&#39;one&#39;</span>) <span class="co"># FAIL</span></span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_does_not_have</span>(a_hash, <span class="st">&#39;3&#39;</span>) <span class="co"># FAIL</span></span></code></pre></div>
<h4
id="-assert_string_containstext-search-match_casetrue-"><a name="assert_string_contains">
assert_string_contains(text, search, match_case=true) </a></h4>
<p>Assert that <code>text</code> contains <code>search</code>. Can
perform case insensitive search by passing false for
<code>match_case</code>.</p>
<div class="sourceCode" id="cb18"><pre
class="sourceCode gdscript"><code class="sourceCode gdscript"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="fu">test_string_contains</span>():</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>    gut.p(<span class="st">&#39;-- passing --&#39;</span>)</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_string_contains</span>(<span class="st">&#39;abc 123&#39;</span>, <span class="st">&#39;a&#39;</span>)</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_string_contains</span>(<span class="st">&#39;abc 123&#39;</span>, <span class="st">&#39;BC&#39;</span>, <span class="va">false</span>)</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_string_contains</span>(<span class="st">&#39;abc 123&#39;</span>, <span class="st">&#39;3&#39;</span>)</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>    gut.p(<span class="st">&#39;-- failing --&#39;</span>)</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_string_contains</span>(<span class="st">&#39;abc 123&#39;</span>, <span class="st">&#39;A&#39;</span>)</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_string_contains</span>(<span class="st">&#39;abc 123&#39;</span>, <span class="st">&#39;BC&#39;</span>)</span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_string_contains</span>(<span class="st">&#39;abc 123&#39;</span>, <span class="st">&#39;012&#39;</span>)</span></code></pre></div>
<h4
id="-assert_string_starts_withtext-search-match_casetrue-"><a name="assert_string_starts_with">
assert_string_starts_with(text, search, match_case=true) </a></h4>
<p>Assert that <code>text</code> starts with <code>search</code>. Can
perform case insensitive check by passing false for
<code>match_case</code></p>
<div class="sourceCode" id="cb19"><pre
class="sourceCode gdscript"><code class="sourceCode gdscript"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="fu">test_string_starts_with</span>():</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>    gut.p(<span class="st">&#39;-- passing --&#39;</span>)</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_string_starts_with</span>(<span class="st">&#39;abc 123&#39;</span>, <span class="st">&#39;a&#39;</span>)</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_string_starts_with</span>(<span class="st">&#39;abc 123&#39;</span>, <span class="st">&#39;ABC&#39;</span>, <span class="va">false</span>)</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_string_starts_with</span>(<span class="st">&#39;abc 123&#39;</span>, <span class="st">&#39;abc 123&#39;</span>)</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>    gut.p(<span class="st">&#39;-- failing --&#39;</span>)</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_string_starts_with</span>(<span class="st">&#39;abc 123&#39;</span>, <span class="st">&#39;z&#39;</span>)</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_string_starts_with</span>(<span class="st">&#39;abc 123&#39;</span>, <span class="st">&#39;ABC&#39;</span>)</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_string_starts_with</span>(<span class="st">&#39;abc 123&#39;</span>, <span class="st">&#39;abc 1234&#39;</span>)</span></code></pre></div>
<h4
id="-assert_string_ends_withtext-search-match_casetrue-"><a name="assert_string_ends_with">
assert_string_ends_with(text, search, match_case=true) </a></h4>
<p>Assert that <code>text</code> ends with <code>search</code>. Can
perform case insensitive check by passing false for
<code>match_case</code></p>
<div class="sourceCode" id="cb20"><pre
class="sourceCode gdscript"><code class="sourceCode gdscript"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="fu">test_string_ends_with</span>():</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>    gut.p(<span class="st">&#39;-- passing --&#39;</span>)</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_string_ends_with</span>(<span class="st">&#39;abc 123&#39;</span>, <span class="st">&#39;123&#39;</span>)</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_string_ends_with</span>(<span class="st">&#39;abc 123&#39;</span>, <span class="st">&#39;C 123&#39;</span>, <span class="va">false</span>)</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_string_ends_with</span>(<span class="st">&#39;abc 123&#39;</span>, <span class="st">&#39;abc 123&#39;</span>)</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>    gut.p(<span class="st">&#39;-- failing --&#39;</span>)</span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_string_ends_with</span>(<span class="st">&#39;abc 123&#39;</span>, <span class="st">&#39;1234&#39;</span>)</span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_string_ends_with</span>(<span class="st">&#39;abc 123&#39;</span>, <span class="st">&#39;C 123&#39;</span>)</span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_string_ends_with</span>(<span class="st">&#39;abc 123&#39;</span>, <span class="st">&#39;nope&#39;</span>)</span></code></pre></div>
<h4
id="-assert_has_signalobject-signal_name-"><a name="assert_has_signal">
assert_has_signal(object, signal_name) </a></h4>
<p>Asserts the passed in object has a signal with the specified name. It
should be noted that all the asserts that verify a signal was/wasn't
emitted will first check that the object has the signal being asserted
against. If it does not, a specific failure message will be given. This
means you can usually skip the step of specifically verifying that the
object has a signal and move on to making sure it emits the signal
correctly.</p>
<div class="sourceCode" id="cb21"><pre
class="sourceCode gdscript"><code class="sourceCode gdscript"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> SignalObject:</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">func</span> <span class="bu">_init</span>():</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">add_user_signal</span>(<span class="st">&#39;some_signal&#39;</span>)</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">add_user_signal</span>(<span class="st">&#39;other_signal&#39;</span>)</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="fu">test_assert_has_signal</span>():</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">var</span> obj <span class="op">=</span> SignalObject.<span class="fu">new</span>()</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>    gut.p(<span class="st">&#39;-- passing --&#39;</span>)</span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_has_signal</span>(obj, <span class="st">&#39;some_signal&#39;</span>)</span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_has_signal</span>(obj, <span class="st">&#39;other_signal&#39;</span>)</span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a>    gut.p(<span class="st">&#39;-- failing --&#39;</span>)</span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_has_signal</span>(obj, <span class="st">&#39;not_a real SIGNAL&#39;</span>)</span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_has_signal</span>(obj, <span class="st">&#39;yea, this one doesnt exist either&#39;</span>)</span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Fails because the signal is not a user signal.  Node2D does have the</span></span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a>    <span class="co"># specified signal but it can&#39;t be checked this way.  It could be watched</span></span>
<span id="cb21-18"><a href="#cb21-18" aria-hidden="true" tabindex="-1"></a>    <span class="co"># and asserted that it fired though.</span></span>
<span id="cb21-19"><a href="#cb21-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_has_signal</span>(Node2D.<span class="fu">new</span>(), <span class="st">&#39;exit_tree&#39;</span>)</span></code></pre></div>
<h4
id="-assert_connectedsignaler_obj-connect_to_obj-signal_name-method_name-"><a name="assert_connected">
assert_connected(signaler_obj, connect_to_obj, signal_name,
method_name="") </a></h4>
<p>Asserts that <code>signaler_obj</code> is connected to
<code>connect_to_obj</code> on signal <code>signal_name</code>. The
method that is connected is optional. If <code>method_name</code> is
supplied then this will pass only if the signal is connected to the
method. If it is not provided then any connection to the signal will
cause a pass.</p>
<div class="sourceCode" id="cb22"><pre
class="sourceCode gdscript"><code class="sourceCode gdscript"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Signaler:</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">signal</span> the_signal</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Connector:</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">func</span> <span class="fu">connect_this</span>():</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>        <span class="cf">pass</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">func</span>  <span class="fu">other_method</span>():</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>        <span class="cf">pass</span></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="fu">test_assert_connected</span>():</span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>    <span class="kw">var</span> signaler <span class="op">=</span> Signaler.<span class="fu">new</span>()</span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>    <span class="kw">var</span> connector  <span class="op">=</span> Connector.<span class="fu">new</span>()</span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a>    signaler.<span class="bu">connect</span>(<span class="st">&#39;the_signal&#39;</span>, connector, <span class="st">&#39;connect_this&#39;</span>)</span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Passing</span></span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_connected</span>(signaler, connector, <span class="st">&#39;the_signal&#39;</span>)</span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_connected</span>(signaler, connector, <span class="st">&#39;the_signal&#39;</span>, <span class="st">&#39;connect_this&#39;</span>)</span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Failing</span></span>
<span id="cb22-20"><a href="#cb22-20" aria-hidden="true" tabindex="-1"></a>    <span class="kw">var</span> foo <span class="op">=</span> Connector.<span class="fu">new</span>()</span>
<span id="cb22-21"><a href="#cb22-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_connected</span>(signaler,  connector, <span class="st">&#39;the_signal&#39;</span>, <span class="st">&#39;other_method&#39;</span>)</span>
<span id="cb22-22"><a href="#cb22-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_connected</span>(signaler, connector, <span class="st">&#39;other_signal&#39;</span>)</span>
<span id="cb22-23"><a href="#cb22-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_connected</span>(signaler, foo, <span class="st">&#39;the_signal&#39;</span>)</span></code></pre></div>
<h4
id="-assert_not_connectedsignaler_obj-connect_to_obj-signal_name-method_name-"><a name="assert_not_connected">
assert_not_connected(signaler_obj, connect_to_obj, signal_name,
method_name="") </a></h4>
<p>The inverse of <code>assert_connected</code>.</p>
<h4 id="-watch_signalsobject-"><a name="watch_signals">
watch_signals(object) </a></h4>
<p>This must be called in order to make assertions based on signals
being emitted. <strong>Right now, this only supports signals that are
emitted with 9 or less parameters.</strong> This can be extended but
nine seemed like enough for now. The Godot documentation suggests that
the limit is four but in my testing I found you can pass more.</p>
<p>This must be called in each test in which you want to make signal
based assertions in. You can call it multiple times with different
objects. You should not call it multiple times with the same object in
the same test. The objects that are watched are cleared after each test
(specifically right before <code>teardown</code> is called). Under the
covers, Gut will connect to all the signals an object has and it will
track each time they fire. You can then use the following asserts and
methods to verify things are acting correct.</p>
<h4
id="-assert_signal_emittedobject-signal_name-"><a name=assert_signal_emitted>
assert_signal_emitted(object, signal_name) </a></h4>
<p>Assert that the specified object emitted the named signal. You must
call <code>watch_signals</code> and pass it the object that you are
making assertions about. This will fail if the object is not being
watched or if the object does not have the specified signal. Since this
will fail if the signal does not exist, you can often skip using
<code>assert_has_signal</code>.</p>
<div class="sourceCode" id="cb23"><pre
class="sourceCode gdscript"><code class="sourceCode gdscript"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> SignalObject:</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">func</span> <span class="bu">_init</span>():</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">add_user_signal</span>(<span class="st">&#39;some_signal&#39;</span>)</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">add_user_signal</span>(<span class="st">&#39;other_signal&#39;</span>)</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="fu">test_assert_signal_emitted</span>():</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">var</span> obj <span class="op">=</span> SignalObject.<span class="fu">new</span>()</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">watch_signals</span>(obj)</span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>    obj.<span class="fu">emit_signal</span>(<span class="st">&#39;some_signal&#39;</span>)</span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>    gut.p(<span class="st">&#39;-- passing --&#39;</span>)</span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_signal_emitted</span>(obj, <span class="st">&#39;some_signal&#39;</span>)</span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a>    gut.p(<span class="st">&#39;-- failing --&#39;</span>)</span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Fails with specific message that the object does not have the signal</span></span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_signal_emitted</span>(obj, <span class="st">&#39;signal_does_not_exist&#39;</span>)</span>
<span id="cb23-18"><a href="#cb23-18" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Fails because the object passed is not being watched</span></span>
<span id="cb23-19"><a href="#cb23-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_signal_emitted</span>(SignalObject.<span class="fu">new</span>(), <span class="st">&#39;some_signal&#39;</span>)</span>
<span id="cb23-20"><a href="#cb23-20" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Fails because the signal was not emitted</span></span>
<span id="cb23-21"><a href="#cb23-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_signal_emitted</span>(obj, <span class="st">&#39;other_signal&#39;</span>)</span></code></pre></div>
<h4
id="-assert_signal_not_emittedobject-signal_name-"><a name="assert_signal_not_emitted">
assert_signal_not_emitted(object, signal_name) </a></h4>
<p>This works opposite of <code>assert_signal_emitted</code>. This will
fail if the object is not being watched or if the object does not have
the signal.</p>
<div class="sourceCode" id="cb24"><pre
class="sourceCode gdscript"><code class="sourceCode gdscript"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> SignalObject:</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">func</span> <span class="bu">_init</span>():</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">add_user_signal</span>(<span class="st">&#39;some_signal&#39;</span>)</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">add_user_signal</span>(<span class="st">&#39;other_signal&#39;</span>)</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="fu">test_assert_signal_not_emitted</span>():</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">var</span> obj <span class="op">=</span> SignalObject.<span class="fu">new</span>()</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">watch_signals</span>(obj)</span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>    obj.<span class="fu">emit_signal</span>(<span class="st">&#39;some_signal&#39;</span>)</span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a>    gut.p(<span class="st">&#39;-- passing --&#39;</span>)</span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_signal_not_emitted</span>(obj, <span class="st">&#39;other_signal&#39;</span>)</span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a>    gut.p(<span class="st">&#39;-- failing --&#39;</span>)</span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Fails with specific message that the object does not have the signal</span></span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_signal_not_emitted</span>(obj, <span class="st">&#39;signal_does_not_exist&#39;</span>)</span>
<span id="cb24-18"><a href="#cb24-18" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Fails because the object passed is not being watched</span></span>
<span id="cb24-19"><a href="#cb24-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_signal_not_emitted</span>(SignalObject.<span class="fu">new</span>(), <span class="st">&#39;some_signal&#39;</span>)</span>
<span id="cb24-20"><a href="#cb24-20" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Fails because the signal was emitted</span></span>
<span id="cb24-21"><a href="#cb24-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_signal_not_emitted</span>(obj, <span class="st">&#39;some_signal&#39;</span>)</span></code></pre></div>
<h4
id="-assert_signal_emitted_with_parametersobject-signal_name-parameters-index-1-"><a name="assert_signal_emitted_with_parameters">
assert_signal_emitted_with_parameters(object, signal_name, parameters,
index=-1) </a></h4>
<p>Asserts that a signal was fired with the specified parameters. The
expected parameters should be passed in as an array. An optional index
can be passed when a signal has fired more than once. The default is to
retrieve the most recent emission of the signal.</p>
<p>This will fail with specific messages if the object is not being
watched or the object does not have the specified signal</p>
<div class="sourceCode" id="cb25"><pre
class="sourceCode gdscript"><code class="sourceCode gdscript"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> SignalObject:</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">func</span> <span class="bu">_init</span>():</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">add_user_signal</span>(<span class="st">&#39;some_signal&#39;</span>)</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">add_user_signal</span>(<span class="st">&#39;other_signal&#39;</span>)</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="fu">test_assert_signal_emitted_with_parameters</span>():</span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">var</span> obj <span class="op">=</span> SignalObject.<span class="fu">new</span>()</span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">watch_signals</span>(obj)</span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># emit the signal 3 times to illustrate how the index works in</span></span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a>    <span class="co"># assert_signal_emitted_with_parameters</span></span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a>    obj.<span class="fu">emit_signal</span>(<span class="st">&#39;some_signal&#39;</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>)</span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a>    obj.<span class="fu">emit_signal</span>(<span class="st">&#39;some_signal&#39;</span>, <span class="st">&#39;a&#39;</span>, <span class="st">&#39;b&#39;</span>, <span class="st">&#39;c&#39;</span>)</span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a>    obj.<span class="fu">emit_signal</span>(<span class="st">&#39;some_signal&#39;</span>, <span class="st">&#39;one&#39;</span>, <span class="st">&#39;two&#39;</span>, <span class="st">&#39;three&#39;</span>)</span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-16"><a href="#cb25-16" aria-hidden="true" tabindex="-1"></a>    gut.p(<span class="st">&#39;-- passing --&#39;</span>)</span>
<span id="cb25-17"><a href="#cb25-17" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Passes b/c the default parameters to check are the last emission of</span></span>
<span id="cb25-18"><a href="#cb25-18" aria-hidden="true" tabindex="-1"></a>    <span class="co"># the signal</span></span>
<span id="cb25-19"><a href="#cb25-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_signal_emitted_with_parameters</span>(obj, <span class="st">&#39;some_signal&#39;</span>, [<span class="st">&#39;one&#39;</span>, <span class="st">&#39;two&#39;</span>, <span class="st">&#39;three&#39;</span>])</span>
<span id="cb25-20"><a href="#cb25-20" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Passes because the parameters match the specified emission based on index.</span></span>
<span id="cb25-21"><a href="#cb25-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_signal_emitted_with_parameters</span>(obj, <span class="st">&#39;some_signal&#39;</span>, [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>], <span class="dv">0</span>)</span>
<span id="cb25-22"><a href="#cb25-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-23"><a href="#cb25-23" aria-hidden="true" tabindex="-1"></a>    gut.p(<span class="st">&#39;-- failing --&#39;</span>)</span>
<span id="cb25-24"><a href="#cb25-24" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Fails with specific message that the object does not have the signal</span></span>
<span id="cb25-25"><a href="#cb25-25" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_signal_emitted_with_parameters</span>(obj, <span class="st">&#39;signal_does_not_exist&#39;</span>, [])</span>
<span id="cb25-26"><a href="#cb25-26" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Fails because the object passed is not being watched</span></span>
<span id="cb25-27"><a href="#cb25-27" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_signal_emitted_with_parameters</span>(SignalObject.<span class="fu">new</span>(), <span class="st">&#39;some_signal&#39;</span>, [])</span>
<span id="cb25-28"><a href="#cb25-28" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Fails because parameters do not match latest emission</span></span>
<span id="cb25-29"><a href="#cb25-29" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_signal_emitted_with_parameters</span>(obj, <span class="st">&#39;some_signal&#39;</span>, [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>])</span>
<span id="cb25-30"><a href="#cb25-30" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Fails because the parameters for the specified index do not match</span></span>
<span id="cb25-31"><a href="#cb25-31" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_signal_emitted_with_parameters</span>(obj, <span class="st">&#39;some_signal&#39;</span>, [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>], <span class="dv">1</span>)</span></code></pre></div>
<h4
id="-assert_signal_emit_countobject-signal_name-"><a name="assert_signal_emit_count">
assert_signal_emit_count(object, signal_name) </a></h4>
<p>Asserts that a signal fired a specific number of times.</p>
<div class="sourceCode" id="cb26"><pre
class="sourceCode gdscript"><code class="sourceCode gdscript"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> SignalObject:</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">func</span> <span class="bu">_init</span>():</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">add_user_signal</span>(<span class="st">&#39;some_signal&#39;</span>)</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">add_user_signal</span>(<span class="st">&#39;other_signal&#39;</span>)</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="fu">test_assert_signal_emit_count</span>():</span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">var</span> obj_a <span class="op">=</span> SignalObject.<span class="fu">new</span>()</span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>    <span class="kw">var</span> obj_b <span class="op">=</span> SignalObject.<span class="fu">new</span>()</span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">watch_signals</span>(obj_a)</span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">watch_signals</span>(obj_b)</span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a>    obj_a.<span class="fu">emit_signal</span>(<span class="st">&#39;some_signal&#39;</span>)</span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a>    obj_a.<span class="fu">emit_signal</span>(<span class="st">&#39;some_signal&#39;</span>)</span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-15"><a href="#cb26-15" aria-hidden="true" tabindex="-1"></a>    obj_b.<span class="fu">emit_signal</span>(<span class="st">&#39;some_signal&#39;</span>)</span>
<span id="cb26-16"><a href="#cb26-16" aria-hidden="true" tabindex="-1"></a>    obj_b.<span class="fu">emit_signal</span>(<span class="st">&#39;other_signal&#39;</span>)</span>
<span id="cb26-17"><a href="#cb26-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-18"><a href="#cb26-18" aria-hidden="true" tabindex="-1"></a>    gut.p(<span class="st">&#39;-- passing --&#39;</span>)</span>
<span id="cb26-19"><a href="#cb26-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_signal_emit_count</span>(obj_a, <span class="st">&#39;some_signal&#39;</span>, <span class="dv">2</span>)</span>
<span id="cb26-20"><a href="#cb26-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_signal_emit_count</span>(obj_a, <span class="st">&#39;other_signal&#39;</span>, <span class="dv">0</span>)</span>
<span id="cb26-21"><a href="#cb26-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-22"><a href="#cb26-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_signal_emit_count</span>(obj_b, <span class="st">&#39;other_signal&#39;</span>, <span class="dv">1</span>)</span>
<span id="cb26-23"><a href="#cb26-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-24"><a href="#cb26-24" aria-hidden="true" tabindex="-1"></a>    gut.p(<span class="st">&#39;-- failing --&#39;</span>)</span>
<span id="cb26-25"><a href="#cb26-25" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Fails with specific message that the object does not have the signal</span></span>
<span id="cb26-26"><a href="#cb26-26" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_signal_emit_count</span>(obj_a, <span class="st">&#39;signal_does_not_exist&#39;</span>, <span class="dv">99</span>)</span>
<span id="cb26-27"><a href="#cb26-27" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Fails because the object passed is not being watched</span></span>
<span id="cb26-28"><a href="#cb26-28" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_signal_emit_count</span>(SignalObject.<span class="fu">new</span>(), <span class="st">&#39;some_signal&#39;</span>, <span class="dv">99</span>)</span>
<span id="cb26-29"><a href="#cb26-29" aria-hidden="true" tabindex="-1"></a>    <span class="co"># The following fail for obvious reasons</span></span>
<span id="cb26-30"><a href="#cb26-30" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_signal_emit_count</span>(obj_a, <span class="st">&#39;some_signal&#39;</span>, <span class="dv">0</span>)</span>
<span id="cb26-31"><a href="#cb26-31" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_signal_emit_count</span>(obj_b, <span class="st">&#39;other_signal&#39;</span>, <span class="dv">283</span>)</span></code></pre></div>
<h4
id="-get_signal_emit_countobject-signal_name-"><a name="get_signal_emit_count">
get_signal_emit_count(object, signal_name) </a></h4>
<p>This will return the number of times a signal was fired. This gives
you the freedom to make more complicated assertions if the spirit moves
you. This will return -1 if the signal was not fired or the object was
not being watched, or if the object does not have the signal.</p>
<h4
id="-get_signal_parametersobject-signal_name-index-1-"><a name="get_signal_parameters">
get_signal_parameters(object, signal_name, index=-1) </a></h4>
<p>If you need to inspect the parameters in order to make more
complicate assertions, then this will give you access to the parameters
of any watched signal. This works the same way that
<code>assert_signal_emitted_with_parameters</code> does. It takes an
object, signal name, and an optional index. If the index is not
specified then the parameters from the most recent emission will be
returned. If the object is not being watched, the signal was not fired,
or the object does not have the signal then <code>null</code> will be
returned.</p>
<div class="sourceCode" id="cb27"><pre
class="sourceCode gdscript"><code class="sourceCode gdscript"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> SignalObject:</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">func</span> <span class="bu">_init</span>():</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">add_user_signal</span>(<span class="st">&#39;some_signal&#39;</span>)</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">add_user_signal</span>(<span class="st">&#39;other_signal&#39;</span>)</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="fu">test_get_signal_parameters</span>():</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">var</span> obj <span class="op">=</span> SignalObject.<span class="fu">new</span>()</span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">watch_signals</span>(obj)</span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>    obj.<span class="fu">emit_signal</span>(<span class="st">&#39;some_signal&#39;</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>)</span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>    obj.<span class="fu">emit_signal</span>(<span class="st">&#39;some_signal&#39;</span>, <span class="st">&#39;a&#39;</span>, <span class="st">&#39;b&#39;</span>, <span class="st">&#39;c&#39;</span>)</span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a>    gut.p(<span class="st">&#39;-- passing --&#39;</span>)</span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a>    <span class="co"># passes because get_signal_parameters returns the most recent emission</span></span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a>    <span class="co"># by default</span></span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_eq</span>(<span class="fu">get_signal_parameters</span>(obj, <span class="st">&#39;some_signal&#39;</span>), [<span class="st">&#39;a&#39;</span>, <span class="st">&#39;b&#39;</span>, <span class="st">&#39;c&#39;</span>])</span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_eq</span>(<span class="fu">get_signal_parameters</span>(obj, <span class="st">&#39;some_signal&#39;</span>, <span class="dv">0</span>), [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>])</span>
<span id="cb27-17"><a href="#cb27-17" aria-hidden="true" tabindex="-1"></a>    <span class="co"># if the signal was not fired null is returned</span></span>
<span id="cb27-18"><a href="#cb27-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_eq</span>(<span class="fu">get_signal_parameters</span>(obj, <span class="st">&#39;other_signal&#39;</span>), <span class="va">null</span>)</span>
<span id="cb27-19"><a href="#cb27-19" aria-hidden="true" tabindex="-1"></a>    <span class="co"># if the signal does not exist or isn&#39;t being watched null is returned</span></span>
<span id="cb27-20"><a href="#cb27-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_eq</span>(<span class="fu">get_signal_parameters</span>(obj, <span class="st">&#39;signal_dne&#39;</span>), <span class="va">null</span>)</span>
<span id="cb27-21"><a href="#cb27-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-22"><a href="#cb27-22" aria-hidden="true" tabindex="-1"></a>    gut.p(<span class="st">&#39;-- failing --&#39;</span>)</span>
<span id="cb27-23"><a href="#cb27-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_eq</span>(<span class="fu">get_signal_parameters</span>(obj, <span class="st">&#39;some_signal&#39;</span>), [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>])</span>
<span id="cb27-24"><a href="#cb27-24" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_eq</span>(<span class="fu">get_signal_parameters</span>(obj, <span class="st">&#39;some_signal&#39;</span>, <span class="dv">0</span>), [<span class="st">&#39;a&#39;</span>, <span class="st">&#39;b&#39;</span>, <span class="st">&#39;c&#39;</span>])</span></code></pre></div>
<h4 id="-assert_file_existsfile_path-"><a name="assert_file_exists">
assert_file_exists(file_path) </a></h4>
<p>asserts a file exists at the specified path</p>
<div class="sourceCode" id="cb28"><pre
class="sourceCode gdscript"><code class="sourceCode gdscript"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="fu">before_each</span>():</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>    gut.<span class="fu">file_touch</span>(<span class="st">&#39;user://some_test_file&#39;</span>)</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="fu">after_each</span>():</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>    gut.<span class="fu">file_delete</span>(<span class="st">&#39;user://some_test_file&#39;</span>)</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="fu">test_assert_file_exists</span>():</span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>    gut.p(<span class="st">&#39;-- passing --&#39;</span>)</span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_file_exists</span>(<span class="st">&#39;res://addons/gut/gut.gd&#39;</span>) <span class="co"># PASS</span></span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_file_exists</span>(<span class="st">&#39;user://some_test_file&#39;</span>) <span class="co"># PASS</span></span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a>    gut.p(<span class="st">&#39;-- failing --&#39;</span>)</span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_file_exists</span>(<span class="st">&#39;user://file_does_not.exist&#39;</span>) <span class="co"># FAIL</span></span>
<span id="cb28-14"><a href="#cb28-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_file_exists</span>(<span class="st">&#39;res://some_dir/another_dir/file_does_not.exist&#39;</span>) <span class="co"># FAIL</span></span></code></pre></div>
<h4
id="-assert_file_does_not_existfile_path-"><a name="assert_file_does_not_exist">
assert_file_does_not_exist(file_path) </a></h4>
<p>asserts a file does not exist at the specified path</p>
<div class="sourceCode" id="cb29"><pre
class="sourceCode gdscript"><code class="sourceCode gdscript"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="fu">before_each</span>():</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>    gut.<span class="fu">file_touch</span>(<span class="st">&#39;user://some_test_file&#39;</span>)</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="fu">after_each</span>():</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>    gut.<span class="fu">file_delete</span>(<span class="st">&#39;user://some_test_file&#39;</span>)</span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="fu">test_assert_file_does_not_exist</span>():</span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>    gut.p(<span class="st">&#39;-- passing --&#39;</span>)</span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_file_does_not_exist</span>(<span class="st">&#39;user://file_does_not.exist&#39;</span>) <span class="co"># PASS</span></span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_file_does_not_exist</span>(<span class="st">&#39;res://some_dir/another_dir/file_does_not.exist&#39;</span>) <span class="co"># PASS</span></span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a>    gut.p(<span class="st">&#39;-- failing --&#39;</span>)</span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_file_does_not_exist</span>(<span class="st">&#39;res://addons/gut/gut.gd&#39;</span>) <span class="co"># FAIL</span></span></code></pre></div>
<h4 id="-assert_file_emptyfile_path-"><a name="assert_file_empty">
assert_file_empty(file_path) </a></h4>
<p>asserts the specified file is empty</p>
<div class="sourceCode" id="cb30"><pre
class="sourceCode gdscript"><code class="sourceCode gdscript"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="fu">before_each</span>():</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>    gut.<span class="fu">file_touch</span>(<span class="st">&#39;user://some_test_file&#39;</span>)</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="fu">after_each</span>():</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>    gut.<span class="fu">file_delete</span>(<span class="st">&#39;user://some_test_file&#39;</span>)</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="fu">test_assert_file_empty</span>():</span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>    gut.p(<span class="st">&#39;-- passing --&#39;</span>)</span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_file_empty</span>(<span class="st">&#39;user://some_test_file&#39;</span>) <span class="co"># PASS</span></span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a>    gut.p(<span class="st">&#39;-- failing --&#39;</span>)</span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_file_empty</span>(<span class="st">&#39;res://addons/gut/gut.gd&#39;</span>) <span class="co"># FAIL</span></span></code></pre></div>
<h4
id="-assert_file_not_emptyfile_path-"><a name="assert_file_not_empty">
assert_file_not_empty(file_path) </a></h4>
<p>asserts the specified file is not empty</p>
<div class="sourceCode" id="cb31"><pre
class="sourceCode gdscript"><code class="sourceCode gdscript"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="fu">before_each</span>():</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>    gut.<span class="fu">file_touch</span>(<span class="st">&#39;user://some_test_file&#39;</span>)</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="fu">after_each</span>():</span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>    gut.<span class="fu">file_delete</span>(<span class="st">&#39;user://some_test_file&#39;</span>)</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="fu">test_assert_file_not_empty</span>():</span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a>    gut.p(<span class="st">&#39;-- passing --&#39;</span>)</span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_file_not_empty</span>(<span class="st">&#39;res://addons/gut/gut.gd&#39;</span>) <span class="co"># PASS</span></span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a>    gut.p(<span class="st">&#39;-- failing --&#39;</span>)</span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_file_not_empty</span>(<span class="st">&#39;user://some_test_file&#39;</span>) <span class="co"># FAIL</span></span></code></pre></div>
<h4 id="-assert_isobject-a_class-text-"><a name="assert_is">
assert_is(object, a_class, text) </a></h4>
<p>Asserts that "object" extends "a_class". object must be an instance
of an object. It cannot be any of the built in classes like Array or Int
or Float. a_class must be a class, it can be loaded via load, a GDNative
class such as Node or Label or anything else.</p>
<div class="sourceCode" id="cb32"><pre
class="sourceCode gdscript"><code class="sourceCode gdscript"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="fu">test_assert_is</span>():</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>    gut.p(<span class="st">&#39;-- passing --&#39;</span>)</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_is</span>(Node2D.<span class="fu">new</span>(), Node2D)</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_is</span>(Label.<span class="fu">new</span>(), CanvasItem)</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_is</span>(SubClass.<span class="fu">new</span>(), BaseClass)</span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Since this is a test script that inherits from test.gd, so</span></span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># this passes.  It&#39;s not obvious w/o seeing the whole script</span></span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># so I&#39;m telling you.  You&#39;ll just have to trust me.</span></span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_is</span>(<span class="va">self</span>, <span class="bu">load</span>(<span class="st">&#39;res://addons/gut/test.gd&#39;</span>))</span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a>    <span class="kw">var</span> Gut <span class="op">=</span> <span class="bu">load</span>(<span class="st">&#39;res://addons/gut/gut.gd&#39;</span>)</span>
<span id="cb32-12"><a href="#cb32-12" aria-hidden="true" tabindex="-1"></a>    <span class="kw">var</span> a_gut <span class="op">=</span> Gut.<span class="fu">new</span>()</span>
<span id="cb32-13"><a href="#cb32-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_is</span>(a_gut, Gut)</span>
<span id="cb32-14"><a href="#cb32-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-15"><a href="#cb32-15" aria-hidden="true" tabindex="-1"></a>    gut.p(<span class="st">&#39;-- failing --&#39;</span>)</span>
<span id="cb32-16"><a href="#cb32-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_is</span>(Node2D.<span class="fu">new</span>(), Node2D.<span class="fu">new</span>())</span>
<span id="cb32-17"><a href="#cb32-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_is</span>(BaseClass.<span class="fu">new</span>(), SubClass)</span>
<span id="cb32-18"><a href="#cb32-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_is</span>(<span class="st">&#39;a&#39;</span>, <span class="st">&#39;b&#39;</span>)</span>
<span id="cb32-19"><a href="#cb32-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_is</span>([], Node)</span></code></pre></div>
<h4
id="assert_typeofobject-type-text-"><a name="assert_typeof">assert_typeof(object,
type, text='') </a></h4>
<p>Asserts that <code>object</code> is the the <code>type</code>
specified. <code>type</code> should be one of the Godot
<code>TYPE_</code> constants.</p>
<div class="sourceCode" id="cb33"><pre
class="sourceCode gdscript"><code class="sourceCode gdscript"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="fu">test_assert_typeof</span>():</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>    gut.p(<span class="st">&#39;-- passing --&#39;</span>)</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">var</span> c <span class="op">=</span> <span class="fu">Color</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>)</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>    gr.test.<span class="fu">assert_typeof</span>(c, TYPE_COLOR)</span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_pass</span>(gr.test)</span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>    gut.p(<span class="st">&#39;-- failing --&#39;</span>)</span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>    gr.test.<span class="fu">assert_typeof</span>(<span class="st">&#39;some string&#39;</span>, TYPE_INT)</span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_fail</span>(gr.test)</span></code></pre></div>
<h4
id="assert_not_typeofobject-type-text-"><a name="assert_not_typeof">assert_not_typeof(object,
type, text='') </a></h4>
<p>The inverse of <code>assert_typeof</code></p>
<h4 id="assert_freedobj-text-"><a name="assert_freed">assert_freed(obj,
text) </a></h4>
<p>Asserts that the passed in object has been freed. This assertion
requires that you pass in some text in the form of a title since, if the
object is freed, we won't have anything to convert to a string to put in
the output statement.</p>
<p>Note that this currently does not detect if a node has been queued
free.</p>
<div class="sourceCode" id="cb34"><pre
class="sourceCode gdscript"><code class="sourceCode gdscript"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="fu">test_object_is_freed_should_pass</span>():</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">var</span> obj <span class="op">=</span> Node.<span class="fu">new</span>()</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>    obj.<span class="fu">free</span>()</span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>    test.<span class="fu">assert_freed</span>(obj, <span class="st">&quot;New Node&quot;</span>)</span></code></pre></div>
<h4
id="assert_not_freedobj-text-"><a name="assert_not_freed">assert_not_freed(obj,
text) </a></h4>
<p>The inverse of <code>assert_freed</code></p>
<div class="sourceCode" id="cb35"><pre
class="sourceCode gdscript"><code class="sourceCode gdscript"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="fu">test_object_is_not_freed_should_pass</span>():</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">var</span> obj <span class="op">=</span> Node.<span class="fu">new</span>()</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_not_freed</span>(obj, <span class="st">&quot;New Node&quot;</span>)</span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="fu">test_queued_free_is_not_freed</span>():</span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">var</span> obj <span class="op">=</span> Node.<span class="fu">new</span>()</span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_child</span>(obj)</span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a>    obj.<span class="fu">queue_free</span>()</span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_not_freed</span>(obj, <span class="st">&quot;New Node&quot;</span>)</span></code></pre></div>
<h4
id="assert_exportsobj-property_name-type-"><a name="assert_exports">assert_exports(obj,
property_name, type) </a></h4>
<p>Asserts that <code>obj</code> exports a property with the name
<code>property_name</code> and a type of <code>type</code>. The
<code>type</code> must be one of the various Godot built-in
<code>TYPE_</code> constants.</p>
<div class="sourceCode" id="cb36"><pre
class="sourceCode gdscript"><code class="sourceCode gdscript"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> ExportClass:</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">export</span> <span class="kw">var</span> some_number <span class="op">=</span> <span class="dv">5</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">export</span>(PackedScene) <span class="kw">var</span> some_scene</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">var</span> some_variable <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="fu">test_assert_exports</span>():</span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">var</span> obj <span class="op">=</span> ExportClass.<span class="fu">new</span>()</span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a>    gut.p(<span class="st">&#39;-- passing --&#39;</span>)</span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_exports</span>(obj, <span class="st">&quot;some_number&quot;</span>, TYPE_INT)</span>
<span id="cb36-11"><a href="#cb36-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_exports</span>(obj, <span class="st">&quot;some_scene&quot;</span>, TYPE_OBJECT)</span>
<span id="cb36-12"><a href="#cb36-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-13"><a href="#cb36-13" aria-hidden="true" tabindex="-1"></a>    gut.p(<span class="st">&#39;-- failing --&#39;</span>)</span>
<span id="cb36-14"><a href="#cb36-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_exports</span>(obj, <span class="st">&#39;some_number&#39;</span>, TYPE_VECTOR2)</span>
<span id="cb36-15"><a href="#cb36-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_exports</span>(obj, <span class="st">&#39;some_scene&#39;</span>, TYPE_AABB)</span>
<span id="cb36-16"><a href="#cb36-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_exports</span>(obj, <span class="st">&#39;some_variable&#39;</span>, TYPE_INT)</span></code></pre></div>
<h4
id="assert_calledinst-method_name-parametersnull-"><a name="assert_called">assert_called(inst,
method_name, parameters=null) </a></h4>
<p>This assertion is is one of the ways Gut implements Spies. It
requires that you pass it an instance of a "doubled" object. An instance
created with <code>double</code> will record when a method it has is
called. You can then make assertions based on this.</p>
<p>This assert will check the object to see if a call to the specified
method (optionally with parameters) was called over the course of the
test. If it finds a match this test will <code>pass</code>, if not it
will <code>fail</code>.</p>
<p>The <code>parameters</code> parameter is an array of values that you
expect to have been passed to <code>method_name</code>. If you do not
specify any parameters then any call to <code>method_name</code> will
match and the assert will <code>pass</code>. If you specify parameters
then all the parameter values must match. You must specify all
parameters the method takes, even if they have defaults. Gut is not able
(yet?) to fill in default values.</p>
<p><strong>Methods that are inherited from built-in parent classes are
not yet recorded. For example, you cannot make "called" assertions on
methods like <code>set_position</code> unless your sub-class
specifically implements it. But since those methods retain their
built-in functionality, you can just make normal assertions on
them.</strong></p>
<div class="sourceCode" id="cb37"><pre
class="sourceCode gdscript"><code class="sourceCode gdscript"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Given the following class located at &#39;res://test/doubler_test_objects/double_extends_node2d.gd&#39;</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="co"># --------------------</span></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">extends</span> Node2D</span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">var</span> <span class="co">_value</span> <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">func</span> <span class="fu">get_value</span>():</span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="co">_value</span></span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a>    <span class="kw">func</span> <span class="fu">set_value</span>(val):</span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a>        <span class="co">_value</span> <span class="op">=</span> val</span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a>    <span class="kw">func</span> <span class="fu">has_one_param</span>(one):</span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true" tabindex="-1"></a>        <span class="cf">pass</span></span>
<span id="cb37-12"><a href="#cb37-12" aria-hidden="true" tabindex="-1"></a>    <span class="kw">func</span> <span class="fu">has_two_params_one_default</span>(one, two<span class="op">=</span><span class="va">null</span>):</span>
<span id="cb37-13"><a href="#cb37-13" aria-hidden="true" tabindex="-1"></a>        <span class="cf">pass</span></span>
<span id="cb37-14"><a href="#cb37-14" aria-hidden="true" tabindex="-1"></a>    <span class="kw">func</span> <span class="fu">get_position</span>():</span>
<span id="cb37-15"><a href="#cb37-15" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> .<span class="fu">get_position</span>()</span>
<span id="cb37-16"><a href="#cb37-16" aria-hidden="true" tabindex="-1"></a><span class="co"># --------------------</span></span>
<span id="cb37-17"><a href="#cb37-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-18"><a href="#cb37-18" aria-hidden="true" tabindex="-1"></a><span class="co"># This is how assert_called behaves</span></span>
<span id="cb37-19"><a href="#cb37-19" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="fu">test_assert_called</span>():</span>
<span id="cb37-20"><a href="#cb37-20" aria-hidden="true" tabindex="-1"></a>    <span class="kw">var</span> DOUBLE_ME_PATH <span class="op">=</span> <span class="st">&#39;res://test/doubler_test_objects/double_extends_node2d.gd&#39;</span></span>
<span id="cb37-21"><a href="#cb37-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-22"><a href="#cb37-22" aria-hidden="true" tabindex="-1"></a>    <span class="kw">var</span> doubled <span class="op">=</span> <span class="fu">double</span>(DOUBLE_ME_PATH).<span class="fu">new</span>()</span>
<span id="cb37-23"><a href="#cb37-23" aria-hidden="true" tabindex="-1"></a>    doubled.<span class="fu">set_value</span>(<span class="dv">4</span>)</span>
<span id="cb37-24"><a href="#cb37-24" aria-hidden="true" tabindex="-1"></a>    doubled.<span class="fu">set_value</span>(<span class="dv">5</span>)</span>
<span id="cb37-25"><a href="#cb37-25" aria-hidden="true" tabindex="-1"></a>    doubled.<span class="fu">has_two_params_one_default</span>(<span class="st">&#39;a&#39;</span>)</span>
<span id="cb37-26"><a href="#cb37-26" aria-hidden="true" tabindex="-1"></a>    doubled.<span class="fu">has_two_params_one_default</span>(<span class="st">&#39;a&#39;</span>, <span class="st">&#39;b&#39;</span>)</span>
<span id="cb37-27"><a href="#cb37-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-28"><a href="#cb37-28" aria-hidden="true" tabindex="-1"></a>    gut.p(<span class="st">&#39;-- passing --&#39;</span>)</span>
<span id="cb37-29"><a href="#cb37-29" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_called</span>(doubled, <span class="st">&#39;set_value&#39;</span>)</span>
<span id="cb37-30"><a href="#cb37-30" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_called</span>(doubled, <span class="st">&#39;set_value&#39;</span>, [<span class="dv">5</span>])</span>
<span id="cb37-31"><a href="#cb37-31" aria-hidden="true" tabindex="-1"></a>    <span class="co"># note the passing of `null` here.  Default parameters must be supplied.</span></span>
<span id="cb37-32"><a href="#cb37-32" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_called</span>(doubled, <span class="st">&#39;has_two_params_one_default&#39;</span>, [<span class="st">&#39;a&#39;</span>, <span class="va">null</span>])</span>
<span id="cb37-33"><a href="#cb37-33" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_called</span>(doubled, <span class="st">&#39;has_two_params_one_default&#39;</span>, [<span class="st">&#39;a&#39;</span>, <span class="st">&#39;b&#39;</span>])</span>
<span id="cb37-34"><a href="#cb37-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-35"><a href="#cb37-35" aria-hidden="true" tabindex="-1"></a>    gut.p(<span class="st">&#39;-- failing --&#39;</span>)</span>
<span id="cb37-36"><a href="#cb37-36" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_called</span>(doubled, <span class="st">&#39;get_value&#39;</span>)</span>
<span id="cb37-37"><a href="#cb37-37" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_called</span>(doubled, <span class="st">&#39;set_value&#39;</span>, [<span class="st">&#39;nope&#39;</span>])</span>
<span id="cb37-38"><a href="#cb37-38" aria-hidden="true" tabindex="-1"></a>    <span class="co"># This fails b/c Gut isn&#39;t smart enough to fill in default values for you...</span></span>
<span id="cb37-39"><a href="#cb37-39" aria-hidden="true" tabindex="-1"></a>    <span class="co"># ast least not yet.</span></span>
<span id="cb37-40"><a href="#cb37-40" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_called</span>(doubled, <span class="st">&#39;has_two_params_one_default&#39;</span>, [<span class="st">&#39;a&#39;</span>])</span>
<span id="cb37-41"><a href="#cb37-41" aria-hidden="true" tabindex="-1"></a>    <span class="co"># This fails with a specific message indicating that you have to pass an</span></span>
<span id="cb37-42"><a href="#cb37-42" aria-hidden="true" tabindex="-1"></a>    <span class="co"># instance of a doubled class.</span></span>
<span id="cb37-43"><a href="#cb37-43" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_called</span>(GDScript.<span class="fu">new</span>(), <span class="st">&#39;some_method&#39;</span>)</span></code></pre></div>
<h4
id="assert_not_calledinst-method_name-parametersnull-"><a name="asssert_not_called">assert_not_called(inst,
method_name, parameters=null) </a></h4>
<p>This is the inverse of <code>assert_called</code> and works the same
way except, you know, inversely. Matches are found based on parameters
in the same fashion. If a matching call is found then this assert will
<code>fail</code>, if not it will <code>pass</code>.</p>
<h4
id="assert_call_countinst-method_name-expected_count-parametersnull-"><a name="assert_call_count">assert_call_count(inst,
method_name, expected_count, parameters=null) </a></h4>
<p>This assertion is is one of the ways Gut implements Spies. It
requires that you pass it an instance of a "doubled" object. An instance
created with <code>double</code> will record when a method it has is
called. You can then make assertions based on this.</p>
<p>This asserts that a method on a doubled instance has been called a
number of times. If you do not specify any parameters then all calls to
the method will be counted. If you specify parameters, then only those
calls that were passed matching values will be counted.</p>
<p>The <code>parameters</code> parameter is an array of values that you
expect to have been passed to <code>method_name</code>. If you do not
specify any parameters then any call to <code>method_name</code> will
match and the assert will <code>pass</code>. If you specify parameters
then all the parameter values must match. You must specify all
parameters the method takes, even if they have defaults. Gut is not able
(yet?) to fill in default values.</p>
<p><strong>Methods that are inherited from built-in parent classes are
not yet recorded. For example, you cannot make "call" assertions on
methods like <code>set_position</code> unless your sub-class
specifically implements it (you can, they will just always return 0).
Since those methods retain their built-in functionality, you can just
make normal assertions on them.</strong></p>
<div class="sourceCode" id="cb38"><pre
class="sourceCode gdscript"><code class="sourceCode gdscript"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Given the following class located at &#39;res://test/doubler_test_objects/double_extends_node2d.gd&#39;</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="co"># --------------------</span></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">extends</span> Node2D</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">var</span> <span class="co">_value</span> <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">func</span> <span class="fu">get_value</span>():</span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="co">_value</span></span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a>    <span class="kw">func</span> <span class="fu">set_value</span>(val):</span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a>        <span class="co">_value</span> <span class="op">=</span> val</span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a>    <span class="kw">func</span> <span class="fu">has_one_param</span>(one):</span>
<span id="cb38-11"><a href="#cb38-11" aria-hidden="true" tabindex="-1"></a>        <span class="cf">pass</span></span>
<span id="cb38-12"><a href="#cb38-12" aria-hidden="true" tabindex="-1"></a>    <span class="kw">func</span> <span class="fu">has_two_params_one_default</span>(one, two<span class="op">=</span><span class="va">null</span>):</span>
<span id="cb38-13"><a href="#cb38-13" aria-hidden="true" tabindex="-1"></a>        <span class="cf">pass</span></span>
<span id="cb38-14"><a href="#cb38-14" aria-hidden="true" tabindex="-1"></a>    <span class="kw">func</span> <span class="fu">get_position</span>():</span>
<span id="cb38-15"><a href="#cb38-15" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> .<span class="fu">get_position</span>()</span>
<span id="cb38-16"><a href="#cb38-16" aria-hidden="true" tabindex="-1"></a><span class="co"># --------------------</span></span>
<span id="cb38-17"><a href="#cb38-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-18"><a href="#cb38-18" aria-hidden="true" tabindex="-1"></a><span class="co"># This is how assert_call_count behaves</span></span>
<span id="cb38-19"><a href="#cb38-19" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="fu">test_assert_call_count</span>():</span>
<span id="cb38-20"><a href="#cb38-20" aria-hidden="true" tabindex="-1"></a>    <span class="kw">var</span> DOUBLE_ME_PATH <span class="op">=</span> <span class="st">&#39;res://test/doubler_test_objects/double_extends_node2d.gd&#39;</span></span>
<span id="cb38-21"><a href="#cb38-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-22"><a href="#cb38-22" aria-hidden="true" tabindex="-1"></a>    <span class="kw">var</span> doubled <span class="op">=</span> <span class="fu">double</span>(DOUBLE_ME_PATH).<span class="fu">new</span>()</span>
<span id="cb38-23"><a href="#cb38-23" aria-hidden="true" tabindex="-1"></a>    doubled.<span class="fu">set_value</span>(<span class="dv">4</span>)</span>
<span id="cb38-24"><a href="#cb38-24" aria-hidden="true" tabindex="-1"></a>    doubled.<span class="fu">set_value</span>(<span class="dv">5</span>)</span>
<span id="cb38-25"><a href="#cb38-25" aria-hidden="true" tabindex="-1"></a>    doubled.<span class="fu">has_two_params_one_default</span>(<span class="st">&#39;a&#39;</span>)</span>
<span id="cb38-26"><a href="#cb38-26" aria-hidden="true" tabindex="-1"></a>    doubled.<span class="fu">has_two_params_one_default</span>(<span class="st">&#39;a&#39;</span>, <span class="st">&#39;b&#39;</span>)</span>
<span id="cb38-27"><a href="#cb38-27" aria-hidden="true" tabindex="-1"></a>    doubled.<span class="fu">set_position</span>(<span class="fu">Vector2</span>(<span class="dv">100</span>, <span class="dv">100</span>))</span>
<span id="cb38-28"><a href="#cb38-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-29"><a href="#cb38-29" aria-hidden="true" tabindex="-1"></a>    gut.p(<span class="st">&#39;-- passing --&#39;</span>)</span>
<span id="cb38-30"><a href="#cb38-30" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_call_count</span>(doubled, <span class="st">&#39;set_value&#39;</span>, <span class="dv">2</span>)</span>
<span id="cb38-31"><a href="#cb38-31" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_call_count</span>(doubled, <span class="st">&#39;set_value&#39;</span>, <span class="dv">1</span>, [<span class="dv">4</span>])</span>
<span id="cb38-32"><a href="#cb38-32" aria-hidden="true" tabindex="-1"></a>    <span class="co"># note the passing of `null` here.  Default parameters must be supplied.</span></span>
<span id="cb38-33"><a href="#cb38-33" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_call_count</span>(doubled, <span class="st">&#39;has_two_params_one_default&#39;</span>, <span class="dv">1</span>, [<span class="st">&#39;a&#39;</span>, <span class="va">null</span>])</span>
<span id="cb38-34"><a href="#cb38-34" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_call_count</span>(doubled, <span class="st">&#39;get_value&#39;</span>, <span class="dv">0</span>)</span>
<span id="cb38-35"><a href="#cb38-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-36"><a href="#cb38-36" aria-hidden="true" tabindex="-1"></a>    gut.p(<span class="st">&#39;-- failing --&#39;</span>)</span>
<span id="cb38-37"><a href="#cb38-37" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_call_count</span>(doubled, <span class="st">&#39;set_value&#39;</span>, <span class="dv">5</span>)</span>
<span id="cb38-38"><a href="#cb38-38" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_call_count</span>(doubled, <span class="st">&#39;set_value&#39;</span>, <span class="dv">2</span>, [<span class="dv">4</span>])</span>
<span id="cb38-39"><a href="#cb38-39" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_call_count</span>(doubled, <span class="st">&#39;get_value&#39;</span>, <span class="dv">1</span>)</span>
<span id="cb38-40"><a href="#cb38-40" aria-hidden="true" tabindex="-1"></a>    <span class="co"># This fails with a specific message indicating that you have to pass an</span></span>
<span id="cb38-41"><a href="#cb38-41" aria-hidden="true" tabindex="-1"></a>    <span class="co"># instance of a doubled class even though technically the method was called.</span></span>
<span id="cb38-42"><a href="#cb38-42" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_call_count</span>(GDScript.<span class="fu">new</span>(), <span class="st">&#39;some_method&#39;</span>, <span class="dv">0</span>)</span>
<span id="cb38-43"><a href="#cb38-43" aria-hidden="true" tabindex="-1"></a>    <span class="co"># This fails b/c double_extends_node2d does not have it&#39;s own implementation</span></span>
<span id="cb38-44"><a href="#cb38-44" aria-hidden="true" tabindex="-1"></a>    <span class="co"># of set_position.  The function is supplied by the parent class and these</span></span>
<span id="cb38-45"><a href="#cb38-45" aria-hidden="true" tabindex="-1"></a>    <span class="co"># methods are not yet being recorded.</span></span>
<span id="cb38-46"><a href="#cb38-46" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_call_count</span>(doubled, <span class="st">&#39;set_position&#39;</span>, <span class="dv">1</span>)</span></code></pre></div>
<h4
id="get_call_parametersobj-method_name-index-1-"><a name="get_call_parameters">get_call_parameters(obj,
method_name, index=-1) </a></h4>
<p>This method allows you to get the parameters that were sent to a call
to a doubled object's method. You must pass it an object created
with/from <code>double</code>. It will return and array containing the
parameters from the most recent call by default. You can optionally
specify an index to get where the first call to the method is at
position <code>0</code>. If no calls were made to the method or you pass
in a object this is not a double then <code>null</code> is returned.</p>
<div class="sourceCode" id="cb39"><pre
class="sourceCode gdscript"><code class="sourceCode gdscript"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="fu">test_get_call_parameters</span>():</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">var</span> DOUBLE_ME_PATH <span class="op">=</span> <span class="st">&#39;res://test/resources/doubler_test_objects/double_extends_node2d.gd&#39;</span></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">var</span> doubled <span class="op">=</span> <span class="fu">double</span>(DOUBLE_ME_PATH).<span class="fu">new</span>()</span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>    doubled.<span class="fu">set_value</span>(<span class="dv">5</span>)</span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>    doubled.<span class="fu">has_two_params_one_default</span>(<span class="st">&#39;a&#39;</span>)</span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>    doubled.<span class="fu">has_two_params_one_default</span>(<span class="st">&#39;x&#39;</span>, <span class="st">&#39;y&#39;</span>)</span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a>    <span class="co"># prints [5]</span></span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="fu">get_call_parameters</span>(doubled, <span class="st">&#39;set_value&#39;</span>))</span>
<span id="cb39-11"><a href="#cb39-11" aria-hidden="true" tabindex="-1"></a>    <span class="co"># prints [x, y]</span></span>
<span id="cb39-12"><a href="#cb39-12" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="fu">get_call_parameters</span>(doubled, <span class="st">&#39;has_two_params_one_default&#39;</span>))</span>
<span id="cb39-13"><a href="#cb39-13" aria-hidden="true" tabindex="-1"></a>    <span class="co"># prints [a, Null]</span></span>
<span id="cb39-14"><a href="#cb39-14" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="fu">get_call_parameters</span>(doubled, <span class="st">&#39;has_two_params_one_default&#39;</span>, <span class="dv">0</span>))</span></code></pre></div>
<h4
id="get_call_countobj-method_name-parametersnull-"><a name="get_call_count">get_call_count(obj,
method_name, parameters=null) </a></h4>
<p>Get the number of times a method was called on a double. Include the
optional parameters array to only get the count for calls with matching
parameters. This is essentially <code>assert_call_count</code> without
the assert, in case you need to do something else with the count.</p>
<pre><code>    func test_called_10_times():
        var doubled = partial_double(DOUBLE_ME_PATH).new()
        for i in range(10):
            doubled.set_value(5)
        var count = get_call_count(doubled, &#39;set_value&#39;) # 10

    func test_it_works_with_parameters():
        var doubled = double(DOUBLE_ME_PATH).new()
        for i in range(3):
            doubled.set_value(3)

        for i in range(5):
            doubled.set_value(5)
        var count = get_call_count(doubled, &#39;set_value&#39;, [3]) # 3</code></pre>
<h4
id="assert_has_methodobj-method-"><a name="assert_has_method">assert_has_method(obj,
method) </a></h4>
<p>Asserts that the passed in object has a method named
<code>method</code>.</p>
<div class="sourceCode" id="cb41"><pre
class="sourceCode gdscript"><code class="sourceCode gdscript"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> SomeClass:</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">var</span> <span class="co">_count</span> <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">func</span> <span class="fu">get_count</span>():</span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="co">_count</span></span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">func</span> <span class="fu">set_count</span>(number):</span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a>        <span class="co">_count</span> <span class="op">=</span> number</span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a>    <span class="kw">func</span> <span class="fu">get_nothing</span>():</span>
<span id="cb41-10"><a href="#cb41-10" aria-hidden="true" tabindex="-1"></a>        <span class="cf">pass</span></span>
<span id="cb41-11"><a href="#cb41-11" aria-hidden="true" tabindex="-1"></a>    <span class="kw">func</span> <span class="fu">set_nothing</span>(val):</span>
<span id="cb41-12"><a href="#cb41-12" aria-hidden="true" tabindex="-1"></a>        <span class="cf">pass</span></span>
<span id="cb41-13"><a href="#cb41-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-14"><a href="#cb41-14" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="fu">test_assert_has_method</span>():</span>
<span id="cb41-15"><a href="#cb41-15" aria-hidden="true" tabindex="-1"></a>    <span class="kw">var</span> some_class <span class="op">=</span> SomeClass.<span class="fu">new</span>()</span>
<span id="cb41-16"><a href="#cb41-16" aria-hidden="true" tabindex="-1"></a>    gut.p(<span class="st">&#39;-- passing --&#39;</span>)</span>
<span id="cb41-17"><a href="#cb41-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_has_method</span>(some_class, <span class="st">&#39;get_nothing&#39;</span>)</span>
<span id="cb41-18"><a href="#cb41-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_has_method</span>(some_class, <span class="st">&#39;set_count&#39;</span>)</span>
<span id="cb41-19"><a href="#cb41-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-20"><a href="#cb41-20" aria-hidden="true" tabindex="-1"></a>    gut.p(<span class="st">&#39;-- failing --&#39;</span>)</span>
<span id="cb41-21"><a href="#cb41-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_has_method</span>(some_class, <span class="st">&#39;method_does_not_exist&#39;</span>)</span></code></pre></div>
<h4
id="-assert_accessorsobj-property-default-set_to-"><a name="assert_accessors">
assert_accessors(obj, property, default, set_to) </a></h4>
<p>I found that making tests for most getters and setters was
repetitious and annoying. Enter <code>assert_accessors</code>. This
assertion handles 80% of your getter and setter testing needs. Given an
object and a property name it will verify:</p>
<ul>
<li>The object has a method called
<code>get_&lt;PROPERTY_NAME&gt;</code></li>
<li>The object has a method called
<code>set_&lt;PROPERTY_NAME&gt;</code></li>
<li>The method <code>get_&lt;PROPERTY_NAME&gt;</code> returns the
expected default value when first called.</li>
<li>Once you set the property, the
<code>get_&lt;PROPERTY_NAME&gt;</code>will return the value passed
in.</li>
</ul>
<p>On the inside Gut actually performs up to 4 assertions. So if
everything goes right you will have four passing asserts each time you
call <code>assert_accessors</code>. I say "up to 4 assertions" because
there are 2 assertions to make sure the object has the methods and then
2 to verify they act correctly. If the object does not have the methods,
it does not bother running the tests for the methods.</p>
<div class="sourceCode" id="cb42"><pre
class="sourceCode gdscript"><code class="sourceCode gdscript"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> SomeClass:</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">var</span> <span class="co">_count</span> <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">func</span> <span class="fu">get_count</span>():</span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="co">_count</span></span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">func</span> <span class="fu">set_count</span>(number):</span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a>        <span class="co">_count</span> <span class="op">=</span> number</span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-9"><a href="#cb42-9" aria-hidden="true" tabindex="-1"></a>    <span class="kw">func</span> <span class="fu">get_nothing</span>():</span>
<span id="cb42-10"><a href="#cb42-10" aria-hidden="true" tabindex="-1"></a>        <span class="cf">pass</span></span>
<span id="cb42-11"><a href="#cb42-11" aria-hidden="true" tabindex="-1"></a>    <span class="kw">func</span> <span class="fu">set_nothing</span>(val):</span>
<span id="cb42-12"><a href="#cb42-12" aria-hidden="true" tabindex="-1"></a>        <span class="cf">pass</span></span>
<span id="cb42-13"><a href="#cb42-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-14"><a href="#cb42-14" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="fu">test_assert_accessors</span>():</span>
<span id="cb42-15"><a href="#cb42-15" aria-hidden="true" tabindex="-1"></a>  <span class="kw">var</span> some_class <span class="op">=</span> SomeClass.<span class="fu">new</span>()</span>
<span id="cb42-16"><a href="#cb42-16" aria-hidden="true" tabindex="-1"></a>  gut.p(<span class="st">&#39;-- passing --&#39;</span>)</span>
<span id="cb42-17"><a href="#cb42-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">assert_accessors</span>(some_class, <span class="st">&#39;count&#39;</span>, <span class="dv">0</span>, <span class="dv">20</span>) <span class="co"># 4 PASSING</span></span>
<span id="cb42-18"><a href="#cb42-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-19"><a href="#cb42-19" aria-hidden="true" tabindex="-1"></a>  gut.p(<span class="st">&#39;-- failing --&#39;</span>)</span>
<span id="cb42-20"><a href="#cb42-20" aria-hidden="true" tabindex="-1"></a>  <span class="co"># 1 FAILING, 3 PASSING</span></span>
<span id="cb42-21"><a href="#cb42-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">assert_accessors</span>(some_class, <span class="st">&#39;count&#39;</span>, <span class="st">&#39;not_default&#39;</span>, <span class="dv">20</span>)</span>
<span id="cb42-22"><a href="#cb42-22" aria-hidden="true" tabindex="-1"></a>  <span class="co"># 2 FAILING, 2 PASSING</span></span>
<span id="cb42-23"><a href="#cb42-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">assert_accessors</span>(some_class, <span class="st">&#39;nothing&#39;</span>, <span class="st">&#39;hello&#39;</span>, <span class="dv">22</span>)</span>
<span id="cb42-24"><a href="#cb42-24" aria-hidden="true" tabindex="-1"></a>  <span class="co"># 2 FAILING</span></span>
<span id="cb42-25"><a href="#cb42-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">assert_accessors</span>(some_class, <span class="st">&#39;does_not_exist&#39;</span>, <span class="st">&#39;does_not&#39;</span>, <span class="st">&#39;matter&#39;</span>)</span></code></pre></div>
<h4 id="is_passing-"><a name="is_passing">is_passing() </a></h4>
<p>Returns true if the test is passing as of the time of calling it.
This will return false if there haven't been any asserts or if any of
the asserts are failing. Usable in <code>after_each</code> but not
<code>after_all</code>.</p>
<h4 id="is_failing-"><a name="is_failing">is_failing() </a></h4>
<p>Returns true if any failing asserts have occurred as of the time of
calling it. Usable in <code>after_each</code> but not
<code>after_all</code>.</p>
<h4 id="-add_child_autofreeobject-"><a name="add_child_autofree">
add_child_autofree(object) </a></h4>
<p>Calls <code>add_child</code> and <code>autofree</code> with the
passed in object and returns it. See <a
href="Memory-Management.html">Memory Management</a> page for more
details.</p>
<h4
id="add_child_autoqfreeobject-"><a name="add_child_autoqfree">add_child_autoqfree(object)
</a></h4>
<p>Calls <code>add_child</code> and <code>autoqfree</code> with the
passed in object and returns it. See <a
href="Memory-Management.html">Memory Management</a> page for more
details.</p>
<h4 id="autofreeobject-"><a name="autofree">autofree(object) </a></h4>
<p>Marks an object so that <code>free</code> will be called on it after
the test finishes. Returns the object passed in. See <a
href="Memory-Management.html">Memory Management</a> page for more
details.</p>
<h4 id="autoqfreeobject-"><a name="autoqfree">autoqfree(object)
</a></h4>
<p>Marks an object so that <code>queue_free</code> will be called on it
after the test finishes. Returns the object passed in. See <a
href="Memory-Management.html">Memory Management</a> page for more
details.</p>
<h4
id="assert_no_new_orphanstext-"><a name="assert_no_new_orphans">assert_no_new_orphans(text='')
</a></h4>
<p>This method will assert that no orphaned nodes have been introduced
by the test when the assert is executed. See the <a
href="Memory-Management#testing_for_leaks">Memory Management</a> page
for more information.</p>
<h4 id="-gutptext-level0-"><a name="gut_p"> gut.p(text, level=0)
</a></h4>
<p>Print info to the GUI and console (if enabled). You can see examples
if this in the sample code above. In order to be able to spot check the
sample code, I print out a divider between the passing and failing
tests.</p>
<h4 id="-pause_before_teardown-"><a name="pause_before_teardown">
pause_before_teardown() </a></h4>
<p>This method will cause Gut to pause before it moves on to the next
test. This is useful for debugging, for instance if you want to
investigate the screen or anything else after a test has finished
executing. See also <code>set_ignore_pause_before_teardown</code></p>
<h4 id="-wait_secondstime-msg-"><a name="wait_seconds">
wait_seconds(time, msg='') </a></h4>
<p>See <a href="Awaiting.html">Awaiting</a></p>
<h4 id="-wait_framesframes-msg-"><a name="wait_seconds">
wait_frames(frames, msg='') </a></h4>
<p>See <a href="Awaiting.html">Awaiting</a></p>
<h4 id="-wait_for_signalsig-max_wait-msg-"><a name="wait_for_signal">
wait_for_signal(sig, max_wait, msg='') </a></h4>
<p>See <a href="Awaiting.html">Awaiting</a></p>
<h4 id="-doublepath_or_class-inner_class_pathnull-"><a name="double">
double(path_or_class, inner_class_path=null) </a></h4>
<p>This will return a double of a class. See <a
href="Doubles.html">Doubles</a> for more information.</p>
<h4 id="-simulateobj-times-delta-"><a name="simulate"> simulate(obj,
times, delta) </a></h4>
<p>This will call <code>_process</code> or <code>_physics_process</code>
on the passed in object and all children of the object. It will call
them <code>times</code> times and pass in <code>delta</code> to each
call. See <a href="Simulate.html">Simulate</a> for more information.</p>
<h4 id="-stub-"><a name="stub"> stub(...) </a></h4>
<p>Allows you to stub a <a href="Doubles.html">doubled</a> instance of a
script or scene to return a value. See <a
href="Stubbing.html">Stubbing</a> for a list of parameters and
instructions on Stubbing.</p>
<h4
id="-ignore_method_when_doublingpath_or_class-method_name-"><a name="ignore_method_when_doubling">
ignore_method_when_doubling(path_or_class, method_name) </a></h4>
<p>This was implemented to allow the doubling of classes with static
methods. There might be other valid use cases for this method, but you
should always try stubbing before using this method. Using
<code>stub(my_double, 'method').to_call_super()</code> or creating a
<code>partial_double</code> works for any other known scenario. You
cannot stub or spy on methods passed to
<code>ignore_method_when_doubling</code>.</p>
<p>This method will add a method for a script to an ignore list. This
means the method will not be included in the double. This is required if
you are attempting to double a class that has static methods. Each of
the static methods must be added to the ignore list or you will get a
parser error similar to:</p>
<pre><code>Parser Error: Function signature doesn&#39;t match the parent. Parent signature is: &#39;Variant foo()&#39;.</code></pre>
<p><code>ignore_method_when_doubling</code> takes two parameters. The
first parameter can be a path to a script, a path to a scene, a loaded
script, or a loaded scene. The second is the name of the method to
ignore.</p>
<div class="sourceCode" id="cb44"><pre
class="sourceCode gdscript"><code class="sourceCode gdscript"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co"># -----------------------------------------------</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Given this as res://scripts/has_statics.gd</span></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a><span class="co"># -----------------------------------------------</span></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a><span class="kw">static</span> <span class="kw">func</span> <span class="fu">this_is_static</span>():</span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>  <span class="cf">pass</span></span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="fu">not_static</span>():</span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> <span class="st">&#39;foo&#39;</span></span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a><span class="co"># -----------------------------------------------</span></span>
<span id="cb44-11"><a href="#cb44-11" aria-hidden="true" tabindex="-1"></a><span class="co"># You can double this script like this:</span></span>
<span id="cb44-12"><a href="#cb44-12" aria-hidden="true" tabindex="-1"></a><span class="co"># -----------------------------------------------</span></span>
<span id="cb44-13"><a href="#cb44-13" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="fu">test_can_double_classes_with_statics_if_ignored</span>():</span>
<span id="cb44-14"><a href="#cb44-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ignore_method_when_doubling</span>(<span class="st">&#39;res://scripts/has_statics.gd&#39;</span>, <span class="st">&#39;this_is_static&#39;</span>)</span>
<span id="cb44-15"><a href="#cb44-15" aria-hidden="true" tabindex="-1"></a>  <span class="kw">var</span> d_has_statics <span class="op">=</span> <span class="fu">double</span>(<span class="st">&#39;res://scripts/has_statics.gd&#39;</span>).<span class="fu">new</span>()</span>
<span id="cb44-16"><a href="#cb44-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">assert_not_null</span>(d_has_statics)</span>
<span id="cb44-17"><a href="#cb44-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-18"><a href="#cb44-18" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="fu">test_can_use_loaded_scripts_to_ignore_statics</span>():</span>
<span id="cb44-19"><a href="#cb44-19" aria-hidden="true" tabindex="-1"></a>  <span class="kw">var</span> HasStatics <span class="op">=</span> <span class="bu">load</span>(<span class="st">&#39;res://scripts/has_statics.gd&#39;</span>)</span>
<span id="cb44-20"><a href="#cb44-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ignore_method_when_doubling</span>(HasStatics, <span class="st">&#39;this_is_static&#39;</span>)</span>
<span id="cb44-21"><a href="#cb44-21" aria-hidden="true" tabindex="-1"></a>  <span class="kw">var</span> d_has_statics <span class="op">=</span> <span class="fu">double</span>(HasStatics).<span class="fu">new</span>()</span>
<span id="cb44-22"><a href="#cb44-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">assert_not_null</span>(d_has_statics)</span>
<span id="cb44-23"><a href="#cb44-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-24"><a href="#cb44-24" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="fu">test_cannot_spy_or_stub_ignored_methods</span>():</span>
<span id="cb44-25"><a href="#cb44-25" aria-hidden="true" tabindex="-1"></a>  <span class="kw">var</span> HasStatics <span class="op">=</span> <span class="bu">load</span>(<span class="st">&#39;res://scripts/has_statics.gd&#39;</span>)</span>
<span id="cb44-26"><a href="#cb44-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ignore_method_when_doubling</span>(HasStatics, <span class="st">&#39;this_is_static&#39;</span>)</span>
<span id="cb44-27"><a href="#cb44-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ignore_method_when_doubling</span>(HasStatics, <span class="st">&#39;not_static&#39;</span>)</span>
<span id="cb44-28"><a href="#cb44-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-29"><a href="#cb44-29" aria-hidden="true" tabindex="-1"></a>  <span class="kw">var</span> d_has_statics <span class="op">=</span> <span class="fu">double</span>(HasStatics).<span class="fu">new</span>()</span>
<span id="cb44-30"><a href="#cb44-30" aria-hidden="true" tabindex="-1"></a>  <span class="co"># This stub will not be used since the method was ignored</span></span>
<span id="cb44-31"><a href="#cb44-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stub</span>(d_has_statics, <span class="st">&#39;not_static&#39;</span>).<span class="fu">to_return</span>(<span class="st">&#39;bar&#39;</span>)</span>
<span id="cb44-32"><a href="#cb44-32" aria-hidden="true" tabindex="-1"></a>  <span class="kw">var</span> result <span class="op">=</span> d_has_statics.<span class="fu">not_static</span>()</span>
<span id="cb44-33"><a href="#cb44-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-34"><a href="#cb44-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">assert_eq</span>(result, <span class="st">&#39;foo&#39;</span>, <span class="st">&#39;not stubbed so &quot;foo&quot; will be returned&#39;</span>)</span>
<span id="cb44-35"><a href="#cb44-35" aria-hidden="true" tabindex="-1"></a>  <span class="co"># this will pass, even though the method was called,</span></span>
<span id="cb44-36"><a href="#cb44-36" aria-hidden="true" tabindex="-1"></a>  <span class="co"># because you cannot spy on ignored methods.</span></span>
<span id="cb44-37"><a href="#cb44-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">assert_not_called</span>(d_has_statics, <span class="st">&#39;not_static&#39;</span>)</span></code></pre></div>
<h4
id="-replace_nodebase_node-path_or_node-with_this-"><a name="replace_node">
replace_node(base_node, path_or_node, with_this) </a></h4>
<p>Replaces the child node of base_node with <code>with_this</code>. You
can pass a path to a node or a child node of base_node.
<code>with_this</code> will get all groups that the replaced node had.
<code>with_this</code> also gets the same "name" that the replaced node
had so that any references to it via <code>$</code> will work. The
replaced node is freed via <code>queue_free</code>.</p>
<p>This is useful when you want to double a node in another node. Your
code might be referencing the node via a call to <code>get_node</code>
or might be using the <code>$</code> syntax to get to the object.
<code>replace_node</code> allows you to replace a node in another node
and retain all of your <code>get_node</code> and <code>$</code>
references.</p>
<p>This will only work for references to the node are made
<strong>after</strong> <code>replace_node</code> has been called. If
your object has a local variable that points to the node that gets
replaced and:</p>
<ul>
<li>it was set on <code>_init</code></li>
<li>or it was set in <code>_ready</code> or via an <code>onready</code>
variable, and the base object has already been added to the tree</li>
</ul>
<p>then these variables will point to the old object (which gets freed
after the call to <code>replace_node</code>).</p>
<div class="sourceCode" id="cb45"><pre
class="sourceCode gdscript"><code class="sourceCode gdscript"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="fu">test_replace_node</span>():</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>    <span class="co"># This scene has:</span></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Node2D</span></span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>    <span class="co">#   - Label</span></span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">#   - MyPanel</span></span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a>    <span class="co">#     - MyButton</span></span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a>    <span class="co">#</span></span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># And code:</span></span>
<span id="cb45-9"><a href="#cb45-9" aria-hidden="true" tabindex="-1"></a>    <span class="co">#</span></span>
<span id="cb45-10"><a href="#cb45-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># double_me_scene.gd:</span></span>
<span id="cb45-11"><a href="#cb45-11" aria-hidden="true" tabindex="-1"></a>    <span class="co"># extends Node2D</span></span>
<span id="cb45-12"><a href="#cb45-12" aria-hidden="true" tabindex="-1"></a>    <span class="co">#</span></span>
<span id="cb45-13"><a href="#cb45-13" aria-hidden="true" tabindex="-1"></a>    <span class="co"># onready var label = get_node(&#39;Label&#39;)</span></span>
<span id="cb45-14"><a href="#cb45-14" aria-hidden="true" tabindex="-1"></a>    <span class="co">#</span></span>
<span id="cb45-15"><a href="#cb45-15" aria-hidden="true" tabindex="-1"></a>    <span class="co"># func return_hello():</span></span>
<span id="cb45-16"><a href="#cb45-16" aria-hidden="true" tabindex="-1"></a>    <span class="co">#   return &#39;hello&#39;</span></span>
<span id="cb45-17"><a href="#cb45-17" aria-hidden="true" tabindex="-1"></a>    <span class="co">#</span></span>
<span id="cb45-18"><a href="#cb45-18" aria-hidden="true" tabindex="-1"></a>    <span class="co"># func set_label_text(text):</span></span>
<span id="cb45-19"><a href="#cb45-19" aria-hidden="true" tabindex="-1"></a>    <span class="co">#   $Label.set_text(text)</span></span>
<span id="cb45-20"><a href="#cb45-20" aria-hidden="true" tabindex="-1"></a>    <span class="co">#</span></span>
<span id="cb45-21"><a href="#cb45-21" aria-hidden="true" tabindex="-1"></a>    <span class="co"># func get_button():</span></span>
<span id="cb45-22"><a href="#cb45-22" aria-hidden="true" tabindex="-1"></a>    <span class="co">#   return $MyPanel/MyButton</span></span>
<span id="cb45-23"><a href="#cb45-23" aria-hidden="true" tabindex="-1"></a>    <span class="kw">var</span> DOUBLE_ME_SCENE <span class="op">=</span> <span class="st">&#39;res://test/resources/doubler_test_objects/double_me_scene.tscn&#39;</span></span>
<span id="cb45-24"><a href="#cb45-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-25"><a href="#cb45-25" aria-hidden="true" tabindex="-1"></a>    <span class="kw">var</span> scene <span class="op">=</span> <span class="bu">load</span>(DOUBLE_ME_SCENE).<span class="fu">instance</span>()</span>
<span id="cb45-26"><a href="#cb45-26" aria-hidden="true" tabindex="-1"></a>    <span class="fu">add_child_autofree</span>(scene)</span>
<span id="cb45-27"><a href="#cb45-27" aria-hidden="true" tabindex="-1"></a>    <span class="kw">var</span> replace_label <span class="op">=</span> Label.<span class="fu">new</span>()</span>
<span id="cb45-28"><a href="#cb45-28" aria-hidden="true" tabindex="-1"></a>    <span class="fu">replace_node</span>(scene, <span class="st">&#39;Label&#39;</span>, replace_label)</span>
<span id="cb45-29"><a href="#cb45-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-30"><a href="#cb45-30" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Passing</span></span>
<span id="cb45-31"><a href="#cb45-31" aria-hidden="true" tabindex="-1"></a>    scene.<span class="fu">set_label_text</span>(<span class="st">&#39;asdf&#39;</span>)</span>
<span id="cb45-32"><a href="#cb45-32" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_eq</span>(replace_label.<span class="fu">get_text</span>(), <span class="st">&#39;asdf&#39;</span>,</span>
<span id="cb45-33"><a href="#cb45-33" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;Since set_label_text references the label using $ this will point to the new one.&quot;</span>)</span>
<span id="cb45-34"><a href="#cb45-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-35"><a href="#cb45-35" aria-hidden="true" tabindex="-1"></a>    <span class="kw">var</span> replace_button <span class="op">=</span> Button.<span class="fu">new</span>()</span>
<span id="cb45-36"><a href="#cb45-36" aria-hidden="true" tabindex="-1"></a>    <span class="fu">replace_node</span>(scene, <span class="st">&#39;MyPanel/MyButton&#39;</span>, replace_button)</span>
<span id="cb45-37"><a href="#cb45-37" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_eq</span>(scene.<span class="fu">get_button</span>(), replace_button,</span>
<span id="cb45-38"><a href="#cb45-38" aria-hidden="true" tabindex="-1"></a>      <span class="st">&#39;Get button uses $ so this will work.&#39;</span>)</span>
<span id="cb45-39"><a href="#cb45-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-40"><a href="#cb45-40" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Failing</span></span>
<span id="cb45-41"><a href="#cb45-41" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_eq</span>(scene.label, replace_label,</span>
<span id="cb45-42"><a href="#cb45-42" aria-hidden="true" tabindex="-1"></a>      <span class="st">&#39;The variable &quot;label&quot; was set as onready so it will not be updated&#39;</span>)</span></code></pre></div>
<p><a href="Comparing-Things.html">Comparing Things</a></p>
<h4
id="-compare_shallowv1-v2-max_differences30-"><a name="compare_shallow">
compare_shallow(v1, v2, max_differences=30) </a></h4>
<p>Performs a shallow comparison between two arrays or dictionaries. A
<code>CompareResult</code> object is returned. See <a
href="Comparing-Things.html">Comparing Things</a> for more information
and examples.</p>
<h4 id="-compare_deepv1-v2-max_differences30-"><a name="compare_deep">
compare_deep(v1, v2, max_differences=30) </a></h4>
<p>Performs a deep comparison between two arrays or dictionaries. A
<code>CompareResult</code> object is returned. See <a
href="Comparing-Things.html">Comparing Things</a> for more information
and examples.</p>
<h4 id="-assert_eq_deepv1-v2-"><a name="assert_eq_deep">
assert_eq_deep(v1, v2) </a></h4>
<p>Performs a deep comparison between two arrays or dictionaries and
asserts they are equal. If they are not equal then a formatted list of
differences are displayed. See <a href="Comparing-Things.html">Comparing
Things</a> for more information.</p>
<div class="sourceCode" id="cb46"><pre
class="sourceCode gdscript"><code class="sourceCode gdscript"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="fu">test_assert_eq_deep</span>():</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">var</span> complex_example <span class="op">=</span> [</span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>        <span class="st">&#39;a&#39;</span>, <span class="st">&#39;b&#39;</span>, <span class="st">&#39;c&#39;</span>,</span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>        [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>],</span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>        {<span class="st">&#39;a&#39;</span>:<span class="dv">1</span>, <span class="st">&#39;b&#39;</span>:<span class="dv">2</span>, <span class="st">&#39;c&#39;</span>:<span class="dv">3</span>},</span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a>        [{<span class="st">&#39;a&#39;</span>:<span class="dv">1</span>}, {<span class="st">&#39;b&#39;</span>:<span class="dv">2</span>}]</span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a>    ]</span>
<span id="cb46-8"><a href="#cb46-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-9"><a href="#cb46-9" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Passing</span></span>
<span id="cb46-10"><a href="#cb46-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_eq_deep</span>([<span class="dv">1</span>, <span class="dv">2</span>, {<span class="st">&#39;a&#39;</span>:<span class="dv">1</span>}], [<span class="dv">1</span>, <span class="dv">2</span>, {<span class="st">&#39;a&#39;</span>:<span class="dv">1</span>}])</span>
<span id="cb46-11"><a href="#cb46-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_eq_deep</span>({<span class="st">&#39;a&#39;</span>:<span class="dv">1</span>, <span class="st">&#39;b&#39;</span>:{<span class="st">&#39;c&#39;</span>:<span class="dv">1</span>}}, {<span class="st">&#39;b&#39;</span>:{<span class="st">&#39;c&#39;</span>:<span class="dv">1</span>}, <span class="st">&#39;a&#39;</span>:<span class="dv">1</span>})</span>
<span id="cb46-12"><a href="#cb46-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-13"><a href="#cb46-13" aria-hidden="true" tabindex="-1"></a>    <span class="kw">var</span> shallow_copy  <span class="op">=</span> complex_example.<span class="fu">duplicate</span>(<span class="va">false</span>)</span>
<span id="cb46-14"><a href="#cb46-14" aria-hidden="true" tabindex="-1"></a>    <span class="kw">var</span> deep_copy <span class="op">=</span> complex_example.<span class="fu">duplicate</span>(<span class="va">true</span>)</span>
<span id="cb46-15"><a href="#cb46-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_eq_deep</span>(complex_example, shallow_copy)</span>
<span id="cb46-16"><a href="#cb46-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_eq_deep</span>(complex_example, deep_copy)</span>
<span id="cb46-17"><a href="#cb46-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_eq_deep</span>(shallow_copy, deep_copy)</span>
<span id="cb46-18"><a href="#cb46-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-19"><a href="#cb46-19" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Failing</span></span>
<span id="cb46-20"><a href="#cb46-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_eq_shallow</span>([<span class="dv">1</span>, <span class="dv">2</span>], [<span class="dv">1</span>, <span class="dv">2</span> ,<span class="dv">3</span>]) <span class="co"># missing index</span></span>
<span id="cb46-21"><a href="#cb46-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_eq_shallow</span>({<span class="st">&#39;a&#39;</span>:<span class="dv">1</span>}, {<span class="st">&#39;a&#39;</span>:<span class="dv">1</span>, <span class="st">&#39;b&#39;</span>:<span class="dv">2</span>}) <span class="co"># missing key</span></span>
<span id="cb46-22"><a href="#cb46-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_eq_deep</span>([<span class="dv">1</span>, <span class="dv">2</span>, {<span class="st">&#39;a&#39;</span>:<span class="dv">1</span>}], [<span class="dv">1</span>, <span class="dv">2</span>, {<span class="st">&#39;a&#39;</span>:<span class="fl">1.0</span>}]) <span class="co"># floats != ints</span></span></code></pre></div>
<h4 id="-assert_ne_deepv1-v2-"><a name="assert_ne_deep">
assert_ne_deep(v1, v2) </a></h4>
<p>Performs a deep comparison of two arrays or dictionaries and asserts
they are not equal. See <a href="Comparing-Things.html">Comparing
Things</a> for more information.</p>
<h4 id="-assert_eq_shallowv1-v2-"><a name="assert_eq_shallow">
assert_eq_shallow(v1, v2) </a></h4>
<p>Performs a shallow comparison between two arrays or dictionaries and
asserts they are equal. If they are not equal then a formatted list of
differences are displayed. See <a href="Comparing-Things.html">Comparing
Things</a> for more information.</p>
<div class="sourceCode" id="cb47"><pre
class="sourceCode gdscript"><code class="sourceCode gdscript"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="fu">test_assert_eq_shallow</span>():</span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">var</span> complex_example <span class="op">=</span> [</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>        <span class="st">&#39;a&#39;</span>, <span class="st">&#39;b&#39;</span>, <span class="st">&#39;c&#39;</span>,</span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>        [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>],</span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>        {<span class="st">&#39;a&#39;</span>:<span class="dv">1</span>, <span class="st">&#39;b&#39;</span>:<span class="dv">2</span>, <span class="st">&#39;c&#39;</span>:<span class="dv">3</span>},</span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a>        [{<span class="st">&#39;a&#39;</span>:<span class="dv">1</span>}, {<span class="st">&#39;b&#39;</span>:<span class="dv">2</span>}]</span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a>    ]</span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-9"><a href="#cb47-9" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Passing</span></span>
<span id="cb47-10"><a href="#cb47-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_eq_shallow</span>([<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>], [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>])</span>
<span id="cb47-11"><a href="#cb47-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_eq_shallow</span>([<span class="dv">1</span>, [<span class="dv">2</span>, <span class="dv">3</span>], <span class="dv">4</span>], [<span class="dv">1</span>, [<span class="dv">2</span>, <span class="dv">3</span>], <span class="dv">4</span>])</span>
<span id="cb47-12"><a href="#cb47-12" aria-hidden="true" tabindex="-1"></a>    <span class="kw">var</span> d1 <span class="op">=</span> {<span class="st">&#39;foo&#39;</span>:<span class="st">&#39;bar&#39;</span>}</span>
<span id="cb47-13"><a href="#cb47-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_eq_shallow</span>([<span class="dv">1</span>, <span class="dv">2</span>, d1], [<span class="dv">1</span>, <span class="dv">2</span>, d1])</span>
<span id="cb47-14"><a href="#cb47-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_eq_shallow</span>({<span class="st">&#39;a&#39;</span>:<span class="dv">1</span>}, {<span class="st">&#39;a&#39;</span>:<span class="dv">1</span>})</span>
<span id="cb47-15"><a href="#cb47-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_eq_shallow</span>({<span class="st">&#39;a&#39;</span>:[<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, d1]}, {<span class="st">&#39;a&#39;</span>:[<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, d1]})</span>
<span id="cb47-16"><a href="#cb47-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-17"><a href="#cb47-17" aria-hidden="true" tabindex="-1"></a>    <span class="kw">var</span> shallow_copy <span class="op">=</span> complex_example.<span class="fu">duplicate</span>(<span class="va">false</span>)</span>
<span id="cb47-18"><a href="#cb47-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_eq_shallow</span>(complex_example, shallow_copy)</span>
<span id="cb47-19"><a href="#cb47-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-20"><a href="#cb47-20" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Failing</span></span>
<span id="cb47-21"><a href="#cb47-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_eq_shallow</span>([<span class="dv">1</span>, <span class="dv">2</span>], [<span class="dv">1</span>, <span class="dv">2</span> ,<span class="dv">3</span>]) <span class="co"># missing index</span></span>
<span id="cb47-22"><a href="#cb47-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_eq_shallow</span>({<span class="st">&#39;a&#39;</span>:<span class="dv">1</span>}, {<span class="st">&#39;a&#39;</span>:<span class="dv">1</span>, <span class="st">&#39;b&#39;</span>:<span class="dv">2</span>}) <span class="co"># missing key</span></span>
<span id="cb47-23"><a href="#cb47-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_eq_shallow</span>([<span class="dv">1</span>, <span class="dv">2</span>], [<span class="fl">1.0</span>, <span class="fl">2.0</span>]) <span class="co"># floats != ints</span></span>
<span id="cb47-24"><a href="#cb47-24" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_eq_shallow</span>([<span class="dv">1</span>, <span class="dv">2</span>, {<span class="st">&#39;a&#39;</span>:<span class="dv">1</span>}], [<span class="dv">1</span>, <span class="dv">2</span>, {<span class="st">&#39;a&#39;</span>:<span class="dv">1</span>}]) <span class="co"># compare [2] by ref</span></span>
<span id="cb47-25"><a href="#cb47-25" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_eq_shallow</span>({<span class="st">&#39;a&#39;</span>:<span class="dv">1</span>}, {<span class="st">&#39;a&#39;</span>:<span class="fl">1.0</span>}) <span class="co"># floats != ints</span></span>
<span id="cb47-26"><a href="#cb47-26" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_eq_shallow</span>({<span class="st">&#39;a&#39;</span>:<span class="dv">1</span>, <span class="st">&#39;b&#39;</span>:{<span class="st">&#39;c&#39;</span>:<span class="dv">1</span>}}, {<span class="st">&#39;a&#39;</span>:<span class="dv">1</span>, <span class="st">&#39;b&#39;</span>:{<span class="st">&#39;c&#39;</span>:<span class="dv">1</span>}}) <span class="co"># compare &#39;b&#39; by ref</span></span>
<span id="cb47-27"><a href="#cb47-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-28"><a href="#cb47-28" aria-hidden="true" tabindex="-1"></a>    <span class="kw">var</span> deep_copy <span class="op">=</span> complex_example.<span class="fu">duplicate</span>(<span class="va">true</span>)</span>
<span id="cb47-29"><a href="#cb47-29" aria-hidden="true" tabindex="-1"></a>    <span class="fu">assert_eq_shallow</span>(complex_example, deep_copy)</span></code></pre></div>
<h4 id="-assert_ne_shallowv1-v2-"><a name="assert_ne_shallow">
assert_ne_shallow(v1, v2) </a></h4>
<p>Performs a shallow comparison of two arrays or dictionaries and
asserts they are not equal. See <a
href="Comparing-Things.html">Comparing Things</a> for more
information.</p>
<h4
id="-assert_propertyobj-name_property-default_value-set_to_value-"><a name="assert_property">
assert_property(obj, name_property, default_value, set_to_value)
</a></h4>
<p>This method does a couple of common tests for properties. It checks
if:</p>
<ul>
<li>the named setter and getter functions exist</li>
<li>the given default value is set_to_value</li>
<li>the value is set correctly to the given
<code>set_to_value</code></li>
<li>the named setter and getter functions are called when the property
is accessed directly</li>
</ul>
<p>It fails if at least one of the mentioned sub-checks fails.</p>
<p>The parameter <code>obj</code> can be any <code>Object</code>.
Depending on what you put in the function will try retrieve the
underlying class or to instantiate from <code>obj</code>. It is tested
for classes extending <code>Script</code> or <code>PackedScene</code> in
case you want to put in a class / scene. It is tested for objects
extending the <code>Node</code> class. The method may fail if you try to
put in something else.</p>
<p>Under the cover it runs <code>assert_accessors</code> and
<code>assert_setget_called</code>. Look into <a
href="#assert_accessors">assert_accessors</a> or <a
href="#assert_setget_called">assert_setget_called</a> to get further
information on how they work.</p>
<p>In the following script you can see some examples how to use this
assert function. The class under test is a "Health" component. It has a
<code>max_hap</code> field with no setter or getter assigned. It also
has a <code>current_hp</code> property with assigned setter and getter
functions.</p>
<div class="sourceCode" id="cb48"><pre
class="sourceCode gdscript"><code class="sourceCode gdscript"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>gut.p(<span class="st">&#39;-- class under test --&#39;</span>)</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Health:</span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">extends</span> Node</span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>  <span class="kw">export</span>(int) <span class="kw">var</span> max_hp <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a>  <span class="kw">export</span>(int) <span class="kw">var</span> current_hp <span class="op">=</span> <span class="dv">0</span> <span class="kw">setget</span> set_current_hp, get_current_hp</span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-9"><a href="#cb48-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-10"><a href="#cb48-10" aria-hidden="true" tabindex="-1"></a>  <span class="kw">func</span> <span class="fu">set_max_hp</span>(value: int) <span class="op">-&gt;</span> void:</span>
<span id="cb48-11"><a href="#cb48-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> value <span class="op">&lt;</span> <span class="dv">0</span>:</span>
<span id="cb48-12"><a href="#cb48-12" aria-hidden="true" tabindex="-1"></a>        value <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb48-13"><a href="#cb48-13" aria-hidden="true" tabindex="-1"></a>    max_hp <span class="op">=</span> value</span>
<span id="cb48-14"><a href="#cb48-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-15"><a href="#cb48-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-16"><a href="#cb48-16" aria-hidden="true" tabindex="-1"></a>  <span class="kw">func</span> <span class="fu">get_max_hp</span>() <span class="op">-&gt;</span> int:</span>
<span id="cb48-17"><a href="#cb48-17" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> max_hp</span>
<span id="cb48-18"><a href="#cb48-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-19"><a href="#cb48-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-20"><a href="#cb48-20" aria-hidden="true" tabindex="-1"></a>  <span class="kw">func</span> <span class="fu">set_current_hp</span>(value: int) <span class="op">-&gt;</span> void:</span>
<span id="cb48-21"><a href="#cb48-21" aria-hidden="true" tabindex="-1"></a>    current_hp <span class="op">=</span> <span class="bu">clamp</span>(value, <span class="dv">0</span>, max_hp)</span>
<span id="cb48-22"><a href="#cb48-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-23"><a href="#cb48-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-24"><a href="#cb48-24" aria-hidden="true" tabindex="-1"></a>  <span class="kw">func</span> <span class="fu">get_current_hp</span>() <span class="op">-&gt;</span> int:</span>
<span id="cb48-25"><a href="#cb48-25" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> current_hp</span>
<span id="cb48-26"><a href="#cb48-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-27"><a href="#cb48-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-28"><a href="#cb48-28" aria-hidden="true" tabindex="-1"></a>gut.p(<span class="st">&#39;-- passing --&#39;</span>)</span>
<span id="cb48-29"><a href="#cb48-29" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_property</span>(Health, <span class="st">&#39;current_hp&#39;</span>, <span class="dv">0</span>, <span class="dv">0</span>) <span class="co"># PASS</span></span>
<span id="cb48-30"><a href="#cb48-30" aria-hidden="true" tabindex="-1"></a><span class="kw">var</span> health <span class="op">=</span> Health.<span class="fu">new</span>()</span>
<span id="cb48-31"><a href="#cb48-31" aria-hidden="true" tabindex="-1"></a>health.max_hp <span class="op">=</span> <span class="dv">10</span></span>
<span id="cb48-32"><a href="#cb48-32" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_property</span>(health, <span class="st">&#39;current_hp&#39;</span>, <span class="dv">0</span>, <span class="dv">5</span>) <span class="co"># PASS</span></span>
<span id="cb48-33"><a href="#cb48-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-34"><a href="#cb48-34" aria-hidden="true" tabindex="-1"></a>gut.p(<span class="st">&#39;-- failing --&#39;</span>)</span>
<span id="cb48-35"><a href="#cb48-35" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_property</span>(Health, <span class="st">&#39;max_hp&#39;</span>, <span class="dv">0</span>, <span class="dv">5</span>) <span class="co"># FAIL =&gt; no setget keyword</span></span>
<span id="cb48-36"><a href="#cb48-36" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_property</span>(Health, <span class="st">&#39;current_hp&#39;</span>, <span class="dv">0</span>, <span class="dv">5</span>) <span class="co"># FAIL =&gt; method will clamp current_hp to max_hp which is 0 by default</span></span>
<span id="cb48-37"><a href="#cb48-37" aria-hidden="true" tabindex="-1"></a><span class="kw">var</span> directory <span class="op">=</span> Directory.<span class="fu">new</span>()</span>
<span id="cb48-38"><a href="#cb48-38" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_property</span>(directory, <span class="st">&#39;current_dir&#39;</span>, <span class="st">&#39;&#39;</span>, <span class="st">&#39;new_dir&#39;</span>) <span class="co"># FAIL =&gt; directory is not a Resource nor a Node</span></span></code></pre></div>
<h4
id="-assert_setget_calledtype-name_property-name_setter-name_getter-"><a name="assert_setget_called">
assert_setget_called(type, name_property, name_setter="",
name_getter="") </a></h4>
<p>This method checks if the named setter and getter functions are
called when the given property is accessed.</p>
<p>In GDScript this is realized by using the <code>setget</code>
keyword. The keyword requires you to specify a setter or getter
function, you can also specify both:</p>
<div class="sourceCode" id="cb49"><pre
class="sourceCode gdscript"><code class="sourceCode gdscript"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> SomeClass:</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">var</span> property_both <span class="op">=</span> <span class="va">null</span> <span class="kw">setget</span> set_property_both, get_property_both</span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">var</span> property_setter <span class="op">=</span> <span class="va">null</span> <span class="kw">setget</span> set_property_setter</span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>  <span class="kw">var</span> property_getter <span class="op">=</span> <span class="va">null</span> <span class="kw">setget</span> , get_property_getter</span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>  <span class="kw">var</span> normal_class_attribute <span class="op">=</span> <span class="va">null</span></span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>  <span class="kw">var</span> another_property <span class="op">=</span> <span class="va">null</span> <span class="kw">setget</span> some_completely_different_name, another_different_name</span></code></pre></div>
<p>With this assert you can test for scenarios equivalent to
<code>property_both</code>, <code>property_setter</code> and
<code>property_getter</code>. As shown in the example GDScript allows
any names for the setter and getter functions. With this assert you can
test for this scenario as well. With this assert you cannot test for
normal class attributes.</p>
<p>The parameter <code>type</code> has to be a <code>Resource</code>.
Therefore you can put in a <code>Script</code> or a
<code>PackedScene</code> but no instances of your class / scene under
test.</p>
<p>The parameters <code>name_setter</code> and <code>name_getter</code>
are optional.</p>
<p>In the following script you can see some examples how to use this
assert function. The class under test is a "Health" component. It has a
<code>max_hap</code> field with no setter or getter assigned. It also
has a <code>current_hp</code> property with assigned setter and getter
functions. For slightly more convenient ways to test properties with
setget keyword also look into <a href="#assert_setget">assert_setget</a>
or <a href="#assert_property">assert_property</a>. They wrap around this
assert function and set some common defaults to safe you some time.</p>
<div class="sourceCode" id="cb50"><pre
class="sourceCode gdscript"><code class="sourceCode gdscript"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>gut.p(<span class="st">&#39;-- class under test --&#39;</span>)</span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Health:</span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">extends</span> Node</span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a>  <span class="kw">export</span>(int) <span class="kw">var</span> max_hp <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a>  <span class="kw">export</span>(int) <span class="kw">var</span> current_hp <span class="op">=</span> <span class="dv">0</span> <span class="kw">setget</span> set_current_hp, get_current_hp</span>
<span id="cb50-8"><a href="#cb50-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-9"><a href="#cb50-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-10"><a href="#cb50-10" aria-hidden="true" tabindex="-1"></a>  <span class="kw">func</span> <span class="fu">set_max_hp</span>(value: int) <span class="op">-&gt;</span> void:</span>
<span id="cb50-11"><a href="#cb50-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> value <span class="op">&lt;</span> <span class="dv">0</span>:</span>
<span id="cb50-12"><a href="#cb50-12" aria-hidden="true" tabindex="-1"></a>        value <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb50-13"><a href="#cb50-13" aria-hidden="true" tabindex="-1"></a>    max_hp <span class="op">=</span> value</span>
<span id="cb50-14"><a href="#cb50-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-15"><a href="#cb50-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-16"><a href="#cb50-16" aria-hidden="true" tabindex="-1"></a>  <span class="kw">func</span> <span class="fu">get_max_hp</span>() <span class="op">-&gt;</span> int:</span>
<span id="cb50-17"><a href="#cb50-17" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> max_hp</span>
<span id="cb50-18"><a href="#cb50-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-19"><a href="#cb50-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-20"><a href="#cb50-20" aria-hidden="true" tabindex="-1"></a>  <span class="kw">func</span> <span class="fu">set_current_hp</span>(value: int) <span class="op">-&gt;</span> void:</span>
<span id="cb50-21"><a href="#cb50-21" aria-hidden="true" tabindex="-1"></a>    current_hp <span class="op">=</span> <span class="bu">clamp</span>(value, <span class="dv">0</span>, max_hp)</span>
<span id="cb50-22"><a href="#cb50-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-23"><a href="#cb50-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-24"><a href="#cb50-24" aria-hidden="true" tabindex="-1"></a>  <span class="kw">func</span> <span class="fu">get_current_hp</span>() <span class="op">-&gt;</span> int:</span>
<span id="cb50-25"><a href="#cb50-25" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> current_hp</span>
<span id="cb50-26"><a href="#cb50-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-27"><a href="#cb50-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-28"><a href="#cb50-28" aria-hidden="true" tabindex="-1"></a>gut.p(<span class="st">&#39;-- passing --&#39;</span>)</span>
<span id="cb50-29"><a href="#cb50-29" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_setget_called</span>(Health, <span class="st">&#39;current_hp&#39;</span>, <span class="st">&#39;set_current_hp&#39;</span>, <span class="st">&#39;get_current_hp&#39;</span>) <span class="co"># PASS</span></span>
<span id="cb50-30"><a href="#cb50-30" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_setget_called</span>(Health, <span class="st">&#39;current_hp&#39;</span>, <span class="st">&#39;set_current_hp&#39;</span>) <span class="co"># PASS</span></span>
<span id="cb50-31"><a href="#cb50-31" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_setget_called</span>(Health, <span class="st">&#39;current_hp&#39;</span>, <span class="st">&#39;&#39;</span>, <span class="st">&#39;get_current_hp&#39;</span>) <span class="co"># PASS</span></span>
<span id="cb50-32"><a href="#cb50-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-33"><a href="#cb50-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-34"><a href="#cb50-34" aria-hidden="true" tabindex="-1"></a>gut.p(<span class="st">&#39;-- failing --&#39;</span>)</span>
<span id="cb50-35"><a href="#cb50-35" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_setget_called</span>(Health, <span class="st">&#39;max_hp&#39;</span>, <span class="st">&#39;set_max_hp&#39;</span>) <span class="co"># FAIL</span></span>
<span id="cb50-36"><a href="#cb50-36" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_setget_called</span>(Health, <span class="st">&#39;max_hp&#39;</span>) <span class="co"># FAIL =&gt; out of scope</span></span>
<span id="cb50-37"><a href="#cb50-37" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_setget_called</span>(Health, <span class="st">&#39;current_hp&#39;</span>) <span class="co"># FAIL =&gt; setter or getter name must be specified</span></span>
<span id="cb50-38"><a href="#cb50-38" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_setget_called</span>(Health, <span class="st">&#39;current_hp&#39;</span>, <span class="st">&#39;set_current_hp&#39;</span>, <span class="st">&#39;get_current_hp&#39;</span>) <span class="co"># FAIL =&gt; typo...</span></span>
<span id="cb50-39"><a href="#cb50-39" aria-hidden="true" tabindex="-1"></a><span class="kw">var</span> health <span class="op">=</span> Health.<span class="fu">new</span>()</span>
<span id="cb50-40"><a href="#cb50-40" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_setget_called</span>(health, <span class="st">&#39;current_hp&#39;</span>, <span class="st">&#39;set_current_hp&#39;</span>) <span class="co"># FAIL =&gt; type has to be a Resource</span></span>
<span id="cb50-41"><a href="#cb50-41" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_setget_called</span>(Health, max_hp, <span class="va">null</span>, <span class="va">null</span>) <span class="co"># FAIL =&gt; methods do not exist</span></span>
<span id="cb50-42"><a href="#cb50-42" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_setget_called</span>(Health, max_hp, <span class="dv">1</span>, <span class="dv">1</span>)  <span class="co"># FAIL =&gt; methods do not exist</span></span>
<span id="cb50-43"><a href="#cb50-43" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_setget_called</span>(<span class="dv">5</span>, <span class="st">&#39;current_hp&#39;</span>, <span class="st">&#39;set_current_hp&#39;</span>)  <span class="co"># FAIL =&gt; type has to be a Resource</span></span>
<span id="cb50-44"><a href="#cb50-44" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_setget_called</span>(<span class="fu">double</span>(Health), <span class="st">&#39;current_hp&#39;</span>, <span class="st">&#39;set_current_hp&#39;</span>) <span class="co"># FAIL =&gt; type has to be a Resource that can be doubled</span></span></code></pre></div>
<p>Please note the last example. So far an already doubled type cannot
be doubled again. Since the class under test will be doubled within the
assert procession it is important to only feed in types that can be
doubled. For more information about doubling its restrictions see the
wiki page about <a href="Doubles.html">Doubles</a>.</p>
<h4
id="-assert_propertyobj-name_property-has_setterfalse-has_getterfalse-"><a name="assert_setget">
assert_property(obj, name_property, has_setter=false, has_getter=false)
</a></h4>
<p>This method checks if the named setter and getter functions are
called when the given property is accessed.</p>
<p>In GDScript this is realized by using the <code>setget</code>
keyword. The keyword requires you to specify a setter or getter
function, you can also specify both:</p>
<div class="sourceCode" id="cb51"><pre
class="sourceCode gdscript"><code class="sourceCode gdscript"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> SomeClass:</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">var</span> property_both <span class="op">=</span> <span class="va">null</span> <span class="kw">setget</span> set_property_both, get_property_both</span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">var</span> property_setter <span class="op">=</span> <span class="va">null</span> <span class="kw">setget</span> set_property_setter</span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>  <span class="kw">var</span> property_getter <span class="op">=</span> <span class="va">null</span> <span class="kw">setget</span> , get_property_getter</span></code></pre></div>
<p>The parameter <code>obj</code> can be any <code>Object</code>.
Depending on what you put in the function will try retrieve the
underlying class or to instantiate from <code>obj</code>. It is tested
for classes extending <code>Script</code> or <code>PackedScene</code> in
case you want to put in a class / scene. It is tested for objects
extending the <code>Node</code> class. The method may fail if you try to
put in something else.</p>
<p>The parameters <code>name_setter</code> and <code>name_getter</code>
are optional.</p>
<p>Under the cover it runs <code>assert_setget_called</code>. Look into
<a href="#assert_setget_called">assert_setget_called</a> to get further
information on how it works.</p>
<p>In the following script you can see some examples how to use this
assert function. The class under test is a "Health bar" component. It
has a <code>health</code> field with a setter but no getter
assigned.</p>
<div class="sourceCode" id="cb52"><pre
class="sourceCode gdscript"><code class="sourceCode gdscript"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>gut.p(<span class="st">&#39;-- class under test --&#39;</span>)</span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> HealthBar:</span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">extends</span> Control</span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> Health <span class="op">=</span> <span class="pp">preload</span>(<span class="st">&quot;res://some_path/health.gd&quot;</span>)</span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a><span class="kw">var</span> health: Health <span class="op">=</span> <span class="va">null</span> <span class="kw">setget</span> set_health</span>
<span id="cb52-7"><a href="#cb52-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-8"><a href="#cb52-8" aria-hidden="true" tabindex="-1"></a><span class="kw">onready</span> <span class="kw">var</span> progress_bar <span class="op">=</span> <span class="va">$ProgressBar</span></span>
<span id="cb52-9"><a href="#cb52-9" aria-hidden="true" tabindex="-1"></a><span class="kw">onready</span> <span class="kw">var</span> label <span class="op">=</span> <span class="va">$Label</span></span>
<span id="cb52-10"><a href="#cb52-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-11"><a href="#cb52-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-12"><a href="#cb52-12" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="fu">set_health</span>(node: Health) <span class="op">-&gt;</span> void:</span>
<span id="cb52-13"><a href="#cb52-13" aria-hidden="true" tabindex="-1"></a>    health <span class="op">=</span> node</span>
<span id="cb52-14"><a href="#cb52-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-15"><a href="#cb52-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-16"><a href="#cb52-16" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="fu">_on_Health_updated</span>() <span class="op">-&gt;</span> void:</span>
<span id="cb52-17"><a href="#cb52-17" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> health <span class="op">!=</span> <span class="va">null</span>:</span>
<span id="cb52-18"><a href="#cb52-18" aria-hidden="true" tabindex="-1"></a>        label.text <span class="op">=</span> <span class="st">&quot;</span><span class="sc">%s</span><span class="st"> / </span><span class="sc">%s</span><span class="st">&quot;</span> <span class="op">%</span>[health.current_hp, health.max_hp]</span>
<span id="cb52-19"><a href="#cb52-19" aria-hidden="true" tabindex="-1"></a>        progress_bar.max_value <span class="op">=</span> health.max_hp</span>
<span id="cb52-20"><a href="#cb52-20" aria-hidden="true" tabindex="-1"></a>        progress_bar.value <span class="op">=</span> health.current_hp</span>
<span id="cb52-21"><a href="#cb52-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-22"><a href="#cb52-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-23"><a href="#cb52-23" aria-hidden="true" tabindex="-1"></a>gut.p(<span class="st">&#39;-- passing --&#39;</span>)</span>
<span id="cb52-24"><a href="#cb52-24" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_setget</span>(HealthBar, <span class="st">&#39;health&#39;</span>, <span class="va">true</span>) <span class="co"># PASS</span></span>
<span id="cb52-25"><a href="#cb52-25" aria-hidden="true" tabindex="-1"></a><span class="kw">var</span> health_bar <span class="op">=</span> <span class="bu">load</span>(<span class="st">&quot;res://some_path/HealthBar.tscn&quot;</span>).<span class="fu">instance</span>()</span>
<span id="cb52-26"><a href="#cb52-26" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_setget</span>(health_bar, <span class="st">&#39;health&#39;</span>, <span class="va">true</span>) <span class="co"># PASS</span></span>
<span id="cb52-27"><a href="#cb52-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-28"><a href="#cb52-28" aria-hidden="true" tabindex="-1"></a>gut.p(<span class="st">&#39;-- failing --&#39;</span>)</span>
<span id="cb52-29"><a href="#cb52-29" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_setget</span>(HealthBar, <span class="st">&#39;label&#39;</span>) <span class="co"># FAIL =&gt; setter or getter has to be specified</span></span>
<span id="cb52-30"><a href="#cb52-30" aria-hidden="true" tabindex="-1"></a><span class="fu">assert_setget</span>(HealthBar, <span class="st">&#39;label&#39;</span>, <span class="va">true</span>) <span class="co"># FAIL =&gt; setter does not exist</span></span></code></pre></div>
</body>
</html>

            </embed>
        </div>
    </div>

</body>

</html>