<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link id="maincss" rel="stylesheet" href="github-markdown.css">
    <link rel="stylesheet" href="exported_wiki.css">
</head>


<body>

<!------------------------------------------------------------------------->
<!-- THE TOC STARTS HERE                                                 -->
<!------------------------------------------------------------------------->

    <div id="toc" class="w3-sidebar w3-border-right">
        <div class="markdown-body">
            <embed>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Gut Wiki</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <link rel="stylesheet" href="github-markdown.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header id="title-block-header">
<h1 class="title">Gut Wiki</h1>
</header>
<h3 id="900-godot-4x">9.0.0 (Godot 4.x)</h3>
<ul>
<li><a href="Asserts-and-Methods.html">Asserts-and-Methods</a></li>
<li><a href="Command-Line.html">Command-Line</a></li>
<li><a href="Comparing-Things.html">Comparing-Things</a></li>
<li><a href="Contributing.html">Contributing</a></li>
<li><a href="Creating-Tests.html">Creating-Tests</a></li>
<li><a href="Doubles.html">Doubles</a></li>
<li><a href="Export-Test-Results.html">Export-Test-Results</a></li>
<li><a
href="Gut-Settings-And-Methods.html">Gut-Settings-And-Methods</a></li>
<li><a href="Home.html">Home</a></li>
<li><a href="Hooks.html">Hooks</a></li>
<li><a href="Inner-Test-Classes.html">Inner-Test-Classes</a></li>
<li><a href="Input-Factory.html">Input-Factory</a></li>
<li><a href="Install.html">Install</a></li>
<li><a href="Memory-Management.html">Memory-Management</a></li>
<li><a href="Mock-Input.html">Mock-Input</a></li>
<li><a href="Orphans.html">Orphans</a></li>
<li><a href="Parameterized-Tests.html">Parameterized-Tests</a></li>
<li><a href="Partial-Doubles.html">Partial-Doubles</a></li>
<li><a href="Quick-Start.html">Quick-Start</a></li>
<li><a href="Running-On-Devices.html">Running-On-Devices</a></li>
<li><a href="Simulate.html">Simulate</a></li>
<li><a href="Spies.html">Spies</a></li>
<li><a href="Stubbing.html">Stubbing</a></li>
<li><a href="Tutorials.html">Tutorials</a></li>
<li><a href="Yielding.html">Yielding</a></li>
</ul>
</body>
</html>

            </embed>
        </div>
    </div>


<!------------------------------------------------------------------------->
<!-- THE PAGE STARTS HERE                                                -->
<!------------------------------------------------------------------------->
    <div class="wiki-div">
        <div class="markdown-body">
            <embed>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Command-Line</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="github-markdown.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header id="title-block-header">
<h1 class="title">Command-Line</h1>
</header>
<h1 id="-not-updated-for-gut-900-yet-">!! Not Updated for GUT 9.0.0 Yet
!!</h1>
<p>Also supplied in this repo is the <code>gut_cmdln.gd</code> script
that can be run from the command line so that you don't have to create a
scene to run your tests. One of the main reasons to use this approach
instead of going through the editor is that you get to see error
messages generated by Godot in the context of your running tests. You
also see any <code>print</code> statements you put in your code in the
context of all the Gut generated output. It's a bit quicker to get
started and is a bit cooler if I do say so. The biggest downside is that
debugging your code/tests is a little more difficult since you won't be
able to interact with the editor's debugger when something blows up.</p>
<p><strong>Note:</strong> All the examples here come from my Mac/Bash.
I'm not sure how this works on Windows unless you are using a terminal
emulator like ConEMU or something. This might work with GitBash but I
haven't tested it. This should work fine in Bash on whatever else you
use.</p>
<p>If you don't have a <code>godot</code> command, you'll have to make
one. Here's the one I use</p>
<pre><code>alias godot=&#39;/Applications/Godot.app/Contents/MacOS/Godot&#39;</code></pre>
<p>From the command line, at the root of your project, use the following
command to run the script. Use the options below to run tests.</p>
<pre><code>godot -d -s --path $PWD addons/gut/gut_cmdln.gd</code></pre>
<p>The <code>-d</code> option tells Godot to run in debug mode which is
helpful. The <code>-s</code> option tells Godot to run a script.
<code>--path $PWD</code> tells Godot to treat the current directory as
the root of a project.</p>
<p>When running from command line, <code>0</code> will be returned if
all tests pass and <code>1</code> will be returned if any fail
(<code>pending</code> doesn't affect the return value).</p>
<h3 id="options">Options</h3>
<p><em>Output from the command line help (-gh)</em></p>
<pre><code>---  Gut  ---
---------------------------------------------------------
This is the command line interface for the unit testing tool Gut.  With this
interface you can run one or more test scripts from the command line.  In order
for the Gut options to not clash with any other godot options, each option
starts with a &quot;g&quot;.  Also, any option that requires a value will take the form
of &quot;-g&lt;name&gt;=&lt;value&gt;&quot;.  There cannot be any spaces between the option, the &quot;=&quot;,
or inside a specified value or godot will think you are trying to run a scene.

Options
-------
  -gtest                    Comma delimited list of full paths to test scripts to run.
  -gdir                     Comma delimited list of directories to add tests from.
  -gprefix                  Prefix used to find tests when specifying -gdir.  Default &quot;test_&quot;.
  -gsuffix                  Suffix used to find tests when specifying -gdir.  Default &quot;.gd&quot;.
  -ghide_orphans            Display orphan counts for tests and scripts.  Default &quot;False&quot;.
  -gmaximize                Maximizes test runner window to fit the viewport.
  -gexit                    Exit after running tests.  If not specified you have to manually close the window.
  -gexit_on_success         Only exit if all tests pass.
  -glog                     Log level.  Default 1
  -gignore_pause            Ignores any calls to gut.pause_before_teardown.
  -gselect                  Select a script to run initially.  The first script that was loaded using -gtest or -gdir that contains the specified string will be executed.  You may run others by interacting with the GUI.
  -gunit_test_name          Name of a test to run.  Any test that contains the specified text will be run, all others will be skipped.
  -gh                       Print this help, then quit
  -gconfig                  A config file that contains configuration information.  Default is res://.gutconfig.json
  -ginner_class             Only run inner classes that contain this string
  -gopacity                 Set opacity of test runner window. Use range 0 - 100. 0 = transparent, 100 = opaque.
  -gpo                      Print option values from all sources and the value used, then quit.
  -ginclude_subdirs         Include subdirectories of -gdir.
  -gdouble_strategy         Default strategy to use when doubling.  Valid values are [partial, full].  Default &quot;partial&quot;
  -gdisable_colors          Disable command line colors.
  -gpre_run_script          pre-run hook script path
  -gpost_run_script         post-run hook script path
  -gprint_gutconfig_sample  Print out json that can be used to make a gutconfig file then quit.
  -gfont_name               Valid values are:  [AnonymousPro, CourierPro, LobsterTwo, Default].  Default &quot;CourierPrime&quot;
  -gfont_size               Font size, default &quot;16&quot;
  -gbackground_color        Background color as an html color, default &quot;ff262626&quot;
  -gfont_color              Font color as an html color, default &quot;ffcccccc&quot;
  -gjunit_xml_file          Export results of run to this file in the Junit XML format.
  -gjunit_xml_timestamp     Include a timestamp in the -gjunit_xml_file, default False
---------------------------------------------------------</code></pre>
<h3 id="examples">Examples</h3>
<p>Run godot in debug mode (-d), run a test script (-gtest), set log
level to lowest (-glog), exit when done (-gexit)</p>
<p><code>godot -s addons/gut/gut_cmdln.gd -d --path $PWD -gtest=res://test/unit/sample_tests.gd -glog=1 -gexit</code></p>
<p>Load all test scripts that begin with 'me_' and end in '.res' and run
me_only_only_me.res (given that the directory contains the following
scripts: me_and_only_me.res, me_only.res, me_one.res, me_two.res). I
don't specify the -gexit on this one since I might want to run all the
scripts using the GUI after I run this one script.</p>
<p><code>godot -s addons/gut/gut_cmdln.gd -d --path $PWD -gdir=res://test/unit -gprefix=me_ -gsuffix=.res -gselect=only_me</code></p>
<h3 id="config-file">Config file</h3>
<p>To cut down on the amount of arguments you have to pass to gut and to
make it easier to change them, you can optionally use a json file to
specify some of the values. By default <code>gut_cmdln</code> looks for
a config file at <code>res://.gutconfig.json</code>. You can specify a
different file using the <code>-gconfig</code> option.</p>
<p>Here is a sample file. You can print out the text for a gutconfig
file using the <code>-gprint_gutconfig_sample</code> option.</p>
<h4 id="example">Example</h4>
<div class="sourceCode" id="cb4"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;dirs&quot;</span><span class="fu">:</span><span class="ot">[</span><span class="st">&quot;res://test/unit/&quot;</span><span class="ot">,</span><span class="st">&quot;res://test/integration/&quot;</span><span class="ot">]</span><span class="fu">,</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;double_strategy&quot;</span><span class="fu">:</span><span class="st">&quot;partial&quot;</span><span class="fu">,</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;ignore_pause&quot;</span><span class="fu">:</span><span class="kw">false</span><span class="fu">,</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;include_subdirs&quot;</span><span class="fu">:</span><span class="kw">true</span><span class="fu">,</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;inner_class&quot;</span><span class="fu">:</span><span class="st">&quot;&quot;</span><span class="fu">,</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;log_level&quot;</span><span class="fu">:</span><span class="dv">3</span><span class="fu">,</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;opacity&quot;</span><span class="fu">:</span><span class="dv">100</span><span class="fu">,</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;prefix&quot;</span><span class="fu">:</span><span class="st">&quot;test_&quot;</span><span class="fu">,</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;selected&quot;</span><span class="fu">:</span><span class="st">&quot;&quot;</span><span class="fu">,</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;should_exit&quot;</span><span class="fu">:</span><span class="kw">true</span><span class="fu">,</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;should_maximize&quot;</span><span class="fu">:</span><span class="kw">true</span><span class="fu">,</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;suffix&quot;</span><span class="fu">:</span><span class="st">&quot;.gd&quot;</span><span class="fu">,</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;tests&quot;</span><span class="fu">:</span><span class="ot">[]</span><span class="fu">,</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;unit_test_name&quot;</span><span class="fu">:</span><span class="st">&quot;&quot;</span><span class="fu">,</span></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<h3 id="alias">Alias</h3>
<p>Make your life easier by creating an alias that includes your most
frequent options. Combined with the config file, you can get a nice and
easy to use <code>gut</code> command. Here's the ones I use in bash on a
Mac:</p>
<pre><code>alias godot=&#39;/Applications/Godot.app/Contents/MacOS/Godot&#39;
alias gut=&#39;godot --debug-collisions --path $PWD -d -s addons/gut/gut_cmdln.gd&#39;</code></pre>
<p>With this, if I want to run 'test_one.gd', I just enter</p>
<pre><code>gut -gselect=test_one.gd</code></pre>
<h3 id="common-errors">Common Errors</h3>
<p>I really only know of one so far, but if you get a space in your
command somewhere, you might see something like this:</p>
<pre><code>ERROR:  No loader found for resource: res://samples3
At:  core\io\resource_loader.cpp:209
ERROR:  Failed loading scene: res://samples3
At:  main\main.cpp:1260</code></pre>
<p>I got this one when I accidentally put a space instead of an "="
after <code>-gselect</code>.</p>
</body>
</html>

            </embed>
        </div>
    </div>

</body>

</html>