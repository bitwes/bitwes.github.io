<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link id="maincss" rel="stylesheet" href="github-markdown.css">
    <link rel="stylesheet" href="exported_wiki.css">
</head>


<body>

<!------------------------------------------------------------------------->
<!-- THE TOC STARTS HERE                                                 -->
<!------------------------------------------------------------------------->

    <div id="toc" class="w3-sidebar w3-border-right">
        <div class="markdown-body">
            <embed>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Gut Wiki</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <link rel="stylesheet" href="github-markdown.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header id="title-block-header">
<h1 class="title">Gut Wiki</h1>
</header>
<h3 id="900-godot-4x">9.0.0 (Godot 4.x)</h3>
<ul>
<li><a href="Asserts-and-Methods.html">Asserts-and-Methods</a></li>
<li><a href="Command-Line.html">Command-Line</a></li>
<li><a href="Comparing-Things.html">Comparing-Things</a></li>
<li><a href="Contributing.html">Contributing</a></li>
<li><a href="Creating-Tests.html">Creating-Tests</a></li>
<li><a href="Doubles.html">Doubles</a></li>
<li><a href="Export-Test-Results.html">Export-Test-Results</a></li>
<li><a
href="Gut-Settings-And-Methods.html">Gut-Settings-And-Methods</a></li>
<li><a href="Home.html">Home</a></li>
<li><a href="Hooks.html">Hooks</a></li>
<li><a href="Inner-Test-Classes.html">Inner-Test-Classes</a></li>
<li><a href="Input-Factory.html">Input-Factory</a></li>
<li><a href="Install.html">Install</a></li>
<li><a href="Memory-Management.html">Memory-Management</a></li>
<li><a href="Mock-Input.html">Mock-Input</a></li>
<li><a href="Orphans.html">Orphans</a></li>
<li><a href="Parameterized-Tests.html">Parameterized-Tests</a></li>
<li><a href="Partial-Doubles.html">Partial-Doubles</a></li>
<li><a href="Quick-Start.html">Quick-Start</a></li>
<li><a href="Running-On-Devices.html">Running-On-Devices</a></li>
<li><a href="Simulate.html">Simulate</a></li>
<li><a href="Spies.html">Spies</a></li>
<li><a href="Stubbing.html">Stubbing</a></li>
<li><a href="Tutorials.html">Tutorials</a></li>
<li><a href="Yielding.html">Yielding</a></li>
</ul>
</body>
</html>

            </embed>
        </div>
    </div>


<!------------------------------------------------------------------------->
<!-- THE PAGE STARTS HERE                                                -->
<!------------------------------------------------------------------------->
    <div class="wiki-div">
        <div class="markdown-body">
            <embed>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Running-On-Devices</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <link rel="stylesheet" href="github-markdown.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header id="title-block-header">
<h1 class="title">Running-On-Devices</h1>
</header>
<h1 id="-not-updated-for-gut-900-yet-">!! Not Updated for GUT 9.0.0 Yet
!!</h1>
<p>You may find yourself wanting to run your tests on an Android or iOS
device or you may want your testers to run the tests on their device. To
do this you will have to give the users access to the GUT instance
through your GUI and you'll have to export your tests. You can also
enable file logging so that if running the tests causes a crash you can
still get to the output from the run.</p>
<h1 id="godot-31-export-as-text">Godot 3.1+ Export As Text</h1>
<p>In Godot 3.1 an old 2.x feature was reintroduced that allows you to
export your scripts as text. Normally Godot will compile your tests and
GUT cannot parse compiled tests. If you change the setting below then
GUT will be able to find and parse all your tests when the project is
exported.</p>
<p>Just change the following setting in your exports settings form
<code>compiled</code> to <code>text</code> [[<a
href="https://raw.githubusercontent.com/wiki/bitwes/Gut/images/export_as_text.png">https://raw.githubusercontent.com/wiki/bitwes/Gut/images/export_as_text.png</a>|alt=export_as_text]]</p>
<p>If you don't want to pass out your code in plain text or you are
using Godot 3.0, then you can use the next section to export your
tests.</p>
<h1 id="exporting-compiledencryptedgodot-30-tests">Exporting
Compiled/Encrypted/Godot 3.0 Tests</h1>
<p>When you export your project, all the scripts get compiled and Gut
cannot parse them anymore. To address this Gut has some methods and
settings that make it possible to run your tests on any device.</p>
<p>Exporting is only supported through a scene since there is no
built-in way to run the tests in your exported game via the command
line. To that end, you will have to have a scene in your game that has a
Gut node (See the Setup section on the Install page). I'm going to
assume the node name is <code>$Gut</code>.</p>
<h2 id="configuring-gut-to-export">Configuring Gut to Export</h2>
<p>Select the Gut node and set the and set the <code>Export Path</code>
setting in the Inspector. This must be a file in the <code>res://</code>
directory. I've been using <code>res://test/exported_tests.cfg</code>.
This way the file won't be included when you create a production export
which, of course, excludes the <code>test</code> directory from the
build.</p>
<p>You must also be sure that your project is configured to export files
with the extension you give in the setting.</p>
<ul>
<li>Click Project-&gt;Export</li>
<li>Select the Preset to configure.</li>
<li>Under the Resources tab make sure that <code>*.cfg</code> is in the
list (or whatever extension you used when setting
<code>Export Path</code>).</li>
</ul>
<pre><code>*.txt, *.cfg</code></pre>
<h2 id="auto-exportimport">Auto Export/Import</h2>
<p><strong>When interacting with the GUT scene you must wait until it
has completed initialization. GUT will emit the <code>gut_ready</code>
signal. Do not interact with GUT until this signal has been
emitted.</strong></p>
<p>Gut has a couple of methods that should allow you to automatically
export and import your settings in most cases. They are:</p>
<ul>
<li><code>export_if_tests_found()</code></li>
<li><code>import_tests_if_none_found()</code></li>
</ul>
<p>When you add these methods to the <code>_ready()</code> of your scene
then Gut should take the proper action based on whether you are running
from the editor or on some other device.</p>
<pre><code>func _on_gut_ready():
  # always put them in this order
  $Gut.export_if_tests_found()
  $Gut.import_tests_if_none_found()</code></pre>
<p>Both methods will either print an error if something went wrong or a
complete list of everything they exported/imported and the name of the
file it used.</p>
<p>Both of these methods <strong>require</strong> that the
<code>Export Path</code> property has been set. The
<code>gut_ready</code> signal will be emitted after Gut has loaded up
all the directories you have configured in the editor. If Gut has found
tests it was able to parse then <code>export_if_tests_found</code> will
write them to the <code>Export Path</code>. If it cannot find any tests
then the <code>import_tests_if_none_found</code> line will load the file
at <code>Export Path</code> and all your tests will be ready to go.</p>
<p><strong>NOTE</strong>: It is recommended that you do not configure
your scene to <code>Run On Load</code> when you are exporting your
tests. If a test causes a crash on a device, then you won't be able to
use the GUI to run other tests, it will just run until it crashes.</p>
<h2 id="manually-exportingimporting">Manually Exporting/Importing</h2>
<p>Gut also has methods that you can use to have full control over when
and where you export/import tests.</p>
<ul>
<li><code>set/get_export_path(...)</code></li>
<li><code>export_tests(path=export_path)</code></li>
<li><code>import_tests(path=export_path)</code></li>
</ul>
<p><code>export_tests</code> and <code>import_tests</code> will use any
path you give them or the value set by <code>set_export_path</code> if
no path is passed.</p>
<h2 id="logging-and-viewing-logs"><a name="logging">Logging and Viewing
Logs</h2>
<p>If you enable file logging in
ProjectSettings-&gt;Logging-&gt;FileLogging then output will be put into
the <code>user://logs</code> directory by default. GUT has a built-in
file viewer in the extra options button on the right of the dialog. This
allows you to view logs or any other user file from GUT.</p>
<p>[[<a
href="https://raw.githubusercontent.com/wiki/bitwes/Gut/images/view_user_files.png">https://raw.githubusercontent.com/wiki/bitwes/Gut/images/view_user_files.png</a>|alt=view_user_files]]</p>
</body>
</html>

            </embed>
        </div>
    </div>

</body>

</html>